"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[353],{49334:(e,n,s)=>{s.r(n),s.d(n,{data:()=>a});const a={key:"v-f0cdc45a",path:"/nhapmon/CT179-Quan_tri_he_thong/Thuchanh/5.html",title:"Bu·ªïi 5 - SAMBA, DNS v√† Firewall",lang:"vi",frontmatter:{},excerpt:"",headers:[{level:2,title:"1. C√†i ƒë·∫∑t CentOS",slug:"_1-cai-ƒëat-centos",children:[{level:3,title:"C√¢u 1.1",slug:"cau-1-1",children:[]},{level:3,title:"C√¢u 1.2",slug:"cau-1-2",children:[]}]},{level:2,title:"2. C√†i ƒë·∫∑t v√† c·∫•u h√¨nh SAMBA",slug:"_2-cai-ƒëat-va-cau-hinh-samba",children:[{level:3,title:"C√¢u 2.1",slug:"cau-2-1",children:[]},{level:3,title:"C√¢u 2.2",slug:"cau-2-2",children:[]},{level:3,title:"C√¢u 2.3",slug:"cau-2-3",children:[]},{level:3,title:"C√¢u 2.4",slug:"cau-2-4",children:[]},{level:3,title:"C√¢u 2.5",slug:"cau-2-5",children:[]},{level:3,title:"C√¢u 2.6",slug:"cau-2-6",children:[]},{level:3,title:"C√¢u 2.7",slug:"cau-2-7",children:[]},{level:3,title:"C√¢u 2.8",slug:"cau-2-8",children:[]},{level:3,title:"C√¢u 2.9",slug:"cau-2-9",children:[]},{level:3,title:"C√¢u 2.10",slug:"cau-2-10",children:[]}]},{level:2,title:"3. C√†i ƒë·∫∑t v√† c·∫•u h√¨nh d·ªãch v·ª• DNS",slug:"_3-cai-ƒëat-va-cau-hinh-dich-vu-dns",children:[{level:3,title:"C√¢u 3.1",slug:"cau-3-1",children:[]},{level:3,title:"C√¢u 3.2",slug:"cau-3-2",children:[]},{level:3,title:"C√¢u 3.3",slug:"cau-3-3",children:[]},{level:3,title:"C√¢u 3.4",slug:"cau-3-4",children:[]},{level:3,title:"C√¢u 3.5",slug:"cau-3-5",children:[]},{level:3,title:"C√¢u 3.6",slug:"cau-3-6",children:[]},{level:3,title:"C√¢u 3.7",slug:"cau-3-7",children:[]},{level:3,title:"C√¢u 3.8",slug:"cau-3-8",children:[]}]},{level:2,title:"4. C·∫•u h√¨nh t∆∞·ªùng l·ª≠a iptables",slug:"_4-cau-hinh-tuong-lua-iptables",children:[{level:3,title:"C√¢u 4.1",slug:"cau-4-1",children:[]},{level:3,title:"C√¢u 4.2",slug:"cau-4-2",children:[]},{level:3,title:"C√¢u 4.3",slug:"cau-4-3",children:[]},{level:3,title:"C√¢u 4.4",slug:"cau-4-4",children:[]},{level:3,title:"C√¢u 4.5",slug:"cau-4-5",children:[]},{level:3,title:"C√¢u 4.6",slug:"cau-4-6",children:[]}]}],filePathRelative:"nhapmon/CT179-Quan_tri_he_thong/Thuchanh/5.md",git:{updatedTime:163056631e4,contributors:[{name:"Zenfection",email:"44715845+Zenfection1412@users.noreply.github.com",commits:2}]}}},14073:(e,n,s)=>{s.r(n),s.d(n,{default:()=>H});var a=s(66252);const c=(0,a.uE)('<h1 id="buoi-5-samba-dns-va-firewall" tabindex="-1"><a class="header-anchor" href="#buoi-5-samba-dns-va-firewall" aria-hidden="true">#</a> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-46-11-icons8-dns.png"> Bu·ªïi 5 - <code>SAMBA</code>, <code>DNS</code> v√† <code>Firewall</code></h1><h2 id="_1-cai-ƒëat-centos" tabindex="-1"><a class="header-anchor" href="#_1-cai-ƒëat-centos" aria-hidden="true">#</a> 1. C√†i ƒë·∫∑t CentOS</h2><h3 id="cau-1-1" tabindex="-1"><a class="header-anchor" href="#cau-1-1" aria-hidden="true">#</a> C√¢u 1.1</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Th·ª±c hi·ªán c√†i ƒë·∫∑t <code>CentOS 6</code> (<em>ho·∫∑c <code>CentOS 7</code>, <code>8</code></em>) v√†o m√°y t√≠nh c√° nh√¢n (<em>ho·∫∑c m√°y ·∫£o</em>)</p></blockquote>',4),t=(0,a.Uk)("Link file ISO "),o={href:"https://www.centos.org/download/",target:"_blank",rel:"noopener noreferrer"},r=(0,a.Uk)("CentOS 8"),i=(0,a._)("h3",{id:"cau-1-2",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#cau-1-2","aria-hidden":"true"},"#"),(0,a.Uk)(" C√¢u 1.2")],-1),l=(0,a._)("blockquote",null,[(0,a._)("p",null,[(0,a._)("img",{src:"https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png",width:"30"}),(0,a.Uk)(" C√†i ƒë·∫∑t d·ªãch v·ª• "),(0,a._)("code",null,"Web Server"),(0,a.Uk)(" tr√™n m√°y ·∫£o. T·∫°o m·ªôt trang web ƒë∆°n gi·∫£n "),(0,a._)("code",null,"index.html"),(0,a.Uk)(" l∆∞u v√†o th∆∞ m·ª•c "),(0,a._)("code",null,"/var/www/html/myweb")])],-1),p=(0,a.Uk)("ƒê√£ l√†m trong b√†i th·ª±c h√†nh "),d=(0,a.Uk)("Bu·ªïi 4"),u=(0,a.uE)('<h2 id="_2-cai-ƒëat-va-cau-hinh-samba" tabindex="-1"><a class="header-anchor" href="#_2-cai-ƒëat-va-cau-hinh-samba" aria-hidden="true">#</a> 2. C√†i ƒë·∫∑t v√† c·∫•u h√¨nh <code>SAMBA</code></h2><div class="custom-container tip"><p class="custom-container-title">üí° KI·∫æN TH·ª®C</p><p><code>Samba</code> l√† d·ªãch v·ª• chia s·∫ª <code>file</code> gi·ªØa c√°c n·ªÅn t·∫£ng kh√°c nhau nh∆∞ <code>Windows</code> v√† <code>Linux</code> b·∫±ng c√°ch s·ª≠ d·ª•ng giao th·ª©c <code>SMB/CIFS</code>.</p></div><h3 id="cau-2-1" tabindex="-1"><a class="header-anchor" href="#cau-2-1" aria-hidden="true">#</a> C√¢u 2.1</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> C√†i ƒë·∫∑t d·ªãch v·ª• <code>Samba</code> b·∫±ng l·ªánh :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ yum <span class="token function">install</span> samba\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-18-16-Screenshot from 2021-05-09 11-04-12.png" alt="Screenshot from 2021-05-09 11-04-12.png"></p><p>==&gt; B·∫°n c√≥ th·ªÉ g√µ <code>samba --version</code> ƒë·ªÉ ki·ªÉm tra ƒë√£ c√†i ƒë·∫∑t ch∆∞a.</p><h3 id="cau-2-2" tabindex="-1"><a class="header-anchor" href="#cau-2-2" aria-hidden="true">#</a> C√¢u 2.2</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> T·∫°o ng∆∞·ªùi d√πng v√† nh√≥m ng∆∞·ªùi d√πng chia s·∫ª d·ªØ li·ªáu:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ adduser tuanthai\n$ <span class="token function">passwd</span> tuanthai\n$ <span class="token function">groupadd</span> lecturers\n$ <span class="token function">usermod</span> -aG lecturers tuanthai\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-04-43-Screenshot from 2021-05-09 11-06-34.png" alt="Screenshot from 2021-05-09 11-06-34.png"></p><h3 id="cau-2-3" tabindex="-1"><a class="header-anchor" href="#cau-2-3" aria-hidden="true">#</a> C√¢u 2.3</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> T·∫°o th∆∞ m·ª•c c·∫ßn chia s·∫ª v√† ph√¢n quy·ªÅn :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">mkdir</span> /data\n$ <span class="token function">chgrp</span> lecturers /data\n$ <span class="token function">chmod</span> -R <span class="token number">775</span> /data\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-06-02-Screenshot from 2021-05-09 11-12-45.png" width="600"><h3 id="cau-2-4" tabindex="-1"><a class="header-anchor" href="#cau-2-4" aria-hidden="true">#</a> C√¢u 2.4</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> C·∫•u h√¨nh d·ªãch v·ª• <code>SAMBA</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cp</span> /etc/samba/smb.conf /etc/samba/smb.conf.orig\n$ <span class="token function">nano</span> /etc/samba/smb.conf\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-textile ext-textile line-numbers-mode"><pre class="language-textile"><code><span class="token phrase">...\n[data]\n    comment = Shared folder for lecturers\n    path = /data\n    browsable = yes\n    writable = yes\n    read only = no\n    valid users = @lecturers\n</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></blockquote><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-06-49-Screenshot from 2021-05-09 11-16-49.png" width="600">',15),h={class:"custom-container tip"},m=(0,a.uE)('<p class="custom-container-title">üí° GI·∫¢I TH√çCH</p><ul><li><p><code>comment</code> : ch√∫ th√≠ch</p></li><li><p><code>path</code> : ƒë∆∞·ªùng d·∫´n ƒë·∫øn th∆∞ m·ª•c c·∫ßn k·∫øt n·ªëi <code>Samba</code></p></li><li><p><code>browsafe</code> : ki·ªÉm so√°t vi·ªác chia s·∫ª file c√≥ ƒë∆∞·ª£c nh√¨n th·∫•y trong ch·∫ø ƒë·ªô th·ª±c</p></li><li><p><code>writable</code> : Cho ph√©p ghi file (<em>ƒë·∫£o ng∆∞·ª£c v·ªõi <code>read only</code></em>)</p></li><li><p><code>read only</code> : Ch·ªâ cho ph√©p ƒë·ªçc (<em>ƒë·∫£o ng∆∞·ª£c v·ªõi <code>read only</code></em>)</p></li><li><p><code>valid users</code> : ng∆∞·ªùi d√πng c√≥ hi·ªáu l·ª±c</p></li></ul>',2),g=(0,a.Uk)("==> Tham kh·∫£o c√°ch "),b=(0,a._)("code",null,"config",-1),f=(0,a.Uk)(),v={href:"https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html",target:"_blank",rel:"noopener noreferrer"},k=(0,a.Uk)("t·∫°i ƒë√¢y"),w=(0,a.uE)('<h3 id="cau-2-5" tabindex="-1"><a class="header-anchor" href="#cau-2-5" aria-hidden="true">#</a> C√¢u 2.5</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Th√™m ng∆∞·ªùi d√πng cho d·ªãch v·ª• <code>SAMBA</code> b·∫±ng l·ªánh :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ smbpasswd -a tuanthai\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-07-42-Screenshot from 2021-05-09 11-17-34.png" alt="Screenshot from 2021-05-09 11-17-34.png"></p><h3 id="cau-2-6" tabindex="-1"><a class="header-anchor" href="#cau-2-6" aria-hidden="true">#</a> C√¢u 2.6</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> C·∫•u h√¨nh <code>SELINUX</code> cho ph√©p <code>Samba</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ setsebool -P samba_export_all_rw on\n$ setsebool -P samba_enable_home_dirs on\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote><ul><li><p><code>samba_export_all_rw</code> : cho ph√©p xu·∫•t b·∫•t k·ª≥ <code>files</code> hay <code>diretories</code> n√†o, cho ph√©p quy·ªÅn <strong>ƒë·ªçc</strong> v√† <strong>ghi</strong></p></li><li><p><code>samba_enable_home_dirs on</code> : cho ph√©p chia s·∫ª th∆∞ m·ª•c ch√≠nh c·ªßa ng∆∞·ªùi d√πng</p></li></ul>',6),S=(0,a.Uk)("==> Tham kh·∫£o "),C={href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/managing_confined_services/sect-managing_confined_services-samba-booleans",target:"_blank",rel:"noopener noreferrer"},I=(0,a.Uk)("t·∫°i ƒë√¢y"),q=(0,a.uE)('<h3 id="cau-2-7" tabindex="-1"><a class="header-anchor" href="#cau-2-7" aria-hidden="true">#</a> C√¢u 2.7</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> T·∫Øt t∆∞·ªùng l·ª≠a</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> iptables stop\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-12-Screenshot from 2021-05-09 11-19-36.png" alt="Screenshot from 2021-05-09 11-19-36.png"></p><h3 id="cau-2-8" tabindex="-1"><a class="header-anchor" href="#cau-2-8" aria-hidden="true">#</a> C√¢u 2.8</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Kh·ªüi ƒë·ªông l·∫°i d·ªãch v·ª• <code>Samba</code> :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> smb start\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-55-Screenshot from 2021-05-09 11-20-05.png" width="600"><h3 id="cau-2-9" tabindex="-1"><a class="header-anchor" href="#cau-2-9" aria-hidden="true">#</a> C√¢u 2.9</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Tr√™n m√°y <code>Windows</code>, b·∫≠t t√≠nh nƒÉng h·ªó tr·ª£ <code>SMB1</code> :</p><p>M·ªü <code>Control Panel</code> ‚ûû <code>Programs</code> ‚ûû <code>Turn Windows feature on or off</code> ‚ûû <code>SMB 1.0/CIFS FIle Sharing Support</code> ‚ûû Ch·ªçn <code>SMB 1.0/CIFS Client</code></p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-13-07-32-Screen Shot 2021-05-07 at 13.07.25.png" alt="Screen Shot 2021-05-07 at 13.07.25.png"></p></blockquote><p>==&gt; C√†i <code>CentOS</code> tr√™n ·ªï c·ª©ng, kh√¥ng s·ª≠ d·ª•ng m√°y ·∫£o, n√™n kh√¥ng l√†m b∆∞·ªõc n√†y</p><h3 id="cau-2-10" tabindex="-1"><a class="header-anchor" href="#cau-2-10" aria-hidden="true">#</a> C√¢u 2.10</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Tr√™n <code>File Exployer</code>, ch·ªçn t√≠nh nƒÉng <code>Add a network location</code> ƒë·ªÉ k·∫øt n·ªëi t·ªõi <code>Samba server</code> s·ª≠ d·ª•ng ƒë·ªãa ch·ªâ <code>\\\\&lt;IP m√°y CentOS&gt;\\data</code></p></blockquote><p>Th·ª±c hi·ªán c√°c b∆∞·ªõc sau ƒë·ªÉ k·∫øt n·ªëi giao th·ª©c <code>Samba</code> tr√™n <code>CentOS</code> :</p><ul><li><p><strong>B1</strong>: V√†o <code>Nautilus</code> (<em>hay c√≤n g·ªçi l√† Finder</em>) ‚á® Ch·ªçn <code>Other Locations</code> ‚á® ƒêi·ªÅn <code>IP</code> c·ªßa m√°y ch·∫°y <code>Samba</code> ‚á® Ch·ªçn <code>Connect</code></p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-12-52-Screenshot from 2021-05-09 12-03-12.png" width="600"></li><li><p><strong>B2</strong>: Ch·ªçn <code>Registerd User</code> v√† ƒëi·ªÅn <em>t√†i kho·∫£n</em> v√† <em>m·∫≠t kh·∫©u</em> ƒëƒÉng k√Ω <code>Samba</code> ·ªü tr√™n ‚á® Ch·ªçn <code>Connect</code></p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-14-31-Screenshot from 2021-05-09 12-24-39.png" width="344"></li><li><p><strong>B3</strong>: B·∫°n c√≥ th·ªÉ t·∫°o <code>file</code> (<em>v√≠ d·ª• t·∫°o <code>file1</code> nh∆∞ sau</em>)</p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-16-48-Screenshot from 2021-05-09 12-19-10.png" width="500"><div class="custom-container tip"><p class="custom-container-title">üí° FACT</p><p>V√†o m√°y k·∫øt n·ªëi <code>Samba</code> ki·ªÉm tra nh∆∞ sau :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-17-11-Screenshot from 2021-05-09 12-19-36.png" alt="Screenshot from 2021-05-09 12-19-36.png"></p><p>==&gt; Nh∆∞ ƒë√£ th·∫•y <code>file1</code> ƒë√£ xu·∫•t hi·ªán</p></div></li></ul><h2 id="_3-cai-ƒëat-va-cau-hinh-dich-vu-dns" tabindex="-1"><a class="header-anchor" href="#_3-cai-ƒëat-va-cau-hinh-dich-vu-dns" aria-hidden="true">#</a> 3. C√†i ƒë·∫∑t v√† c·∫•u h√¨nh d·ªãch v·ª• <code>DNS</code></h2><div class="custom-container tip"><p class="custom-container-title">üí° KI·∫æN TH·ª®C</p><p><code>DNS</code> (<em>Domain Name System</em>) l√† gi·∫£i ph√°p d√πng t√™n mi·ªÅn thay cho ƒë·ªãa ch·ªâ <code>IP</code> kh√≥ nh·ªõ khi s·ª≠ d·ª•ng c√°c d·ªãch v·ª• m·∫°ng. Truy c·∫≠p ƒë·∫øn <code>website</code> c·ªßa <code>Khoa CNTT-ƒêH C·∫ßn Th∆°</code> b·∫±ng ƒë·ªãa ch·ªâ n√†o d·ªÖ h∆°n ?</p><table><thead><tr><th>http://203.162.36.146</th><th>http://cit.ctu.edu.vn</th></tr></thead></table><p>B·∫°n c·∫ßn ph·∫£i c√†i ƒë·∫∑t ph·∫ßn m·ªÅm <code>BIND</code> tr√™n <code>CentOS</code> ƒë·ªÉ ph√¢n gi·∫£i t√™n mi·ªÅn <code>qtht.com.vn</code></p></div><h3 id="cau-3-1" tabindex="-1"><a class="header-anchor" href="#cau-3-1" aria-hidden="true">#</a> C√¢u 3.1</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> C√†i ƒë·∫∑t <code>BIND</code> v√† c√°c c√¥ng c·ª• c·∫ßn thi·∫øt :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ yum <span class="token function">install</span> <span class="token builtin class-name">bind</span> bind-utils\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-04-46-Screenshot from 2021-05-09 12-33-54.png" alt="Screenshot from 2021-05-09 12-33-54.png"></p><p>==&gt; B·∫°n c√≥ th·ªÉ g√µ <code>named -v</code> ƒë·ªÉ ki·ªÉm tra <code>bind-utils</code> ƒë√£ c√†i ch∆∞a.</p><h3 id="cau-3-2" tabindex="-1"><a class="header-anchor" href="#cau-3-2" aria-hidden="true">#</a> C√¢u 3.2</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> C√†i h√¨nh <code>DNS server</code> :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">nano</span> /etc/named.conf \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-textile ext-textile line-numbers-mode"><pre class="language-textile"><code><span class="token phrase">...\noption {\n    listen-on port 53 { 127.0.0.1; any;};\n    ...\n    allow-query    { localhost; any;};\n    recursion yes;\n    ...\n};</span>\n\n<span class="token phrase">loggin {\n    ...\n    };\n};</span>\n\n<span class="token phrase">zone &quot;.&quot; IN {\n    ...\n};</span>\n\n<span class="token phrase">zone &quot;&lt;t√™n mi·ªÅn&gt;&quot; IN {\n    type master;\n    file &quot;forward.qtht&quot;;\n    allow-update { none; };\n};</span>\n\n<span class="token phrase">zone &quot;&lt;24bit m·∫°ng ƒë·∫£o chi·ªÅu&gt;.in-addr.arpa&quot; IN {\n    type master;\n    file &quot;reverse.qtht&quot;;\n    allow-update { none; };\n};\n...\n</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div></blockquote><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-10-02-Screenshot from 2021-05-09 12-36-20.png" width="600"><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-28-17-Screenshot from 2021-05-09 13-17-02.png" width="600"><h3 id="cau-3-3" tabindex="-1"><a class="header-anchor" href="#cau-3-3" aria-hidden="true">#</a> C√¢u 3.3</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> T·∫°o t·∫≠p tin c·∫•u h√¨nh ph√¢n gi·∫£i xu√¥i:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cp</span> /var/named/named.localhost /var/named/forward.qtht\n$ <span class="token function">chgrp</span> named /var/named/forward.qtht\n$ <span class="token function">nano</span> /var/named/forward.qtht\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-textile ext-textile line-numbers-mode"><pre class="language-textile"><code><span class="token phrase">$TTL 1D\n<span class="token inline"><span class="token punctuation">@</span><span class="token code keyword">   IN  SOA </span><span class="token punctuation">@</span></span> &lt;t√™n mi·ªÅn&gt;. (\n0     ;Serial\n1D    ;Refresh\n1H    ;Retry\n1W    ;Expire\n3H    ;Minimum TTL\n)\n@    IN    NS    dns.qtht.com.vn.\ndns  IN    A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">m√°y</span><span class="token punctuation">&gt;</span></span>\n<span class="token phrase">www  IN    A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">m√°y</span><span class="token punctuation">&gt;</span></span>\n<span class="token phrase">htql IN    A    8.8.8.8\n</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-26-57-Screenshot from 2021-05-09 08-35-44.png" alt="Screenshot from 2021-05-09 08-35-44.png"></p><h3 id="cau-3-4" tabindex="-1"><a class="header-anchor" href="#cau-3-4" aria-hidden="true">#</a> C√¢u 3.4</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> T·∫°o t·∫≠p tin c·∫•u h√¨nh ph√¢n gi·∫£i ng∆∞·ª£c :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cp</span> /var/named/forward.qtht /var/named/reverse.qtht\n$ <span class="token function">chgrp</span> named /var/named/reverse.qtht\n$ <span class="token function">nano</span> /var/named/reverse.qtht\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-textile ext-textile line-numbers-mode"><pre class="language-textile"><code><span class="token phrase">$TTL 1D\n<span class="token inline"><span class="token punctuation">@</span><span class="token code keyword">   IN  SOA </span><span class="token punctuation">@</span></span> qtht.com.vn. (\n0    ;Serial\n1D    ;Refresh\n1H    ;Retry\n1W    ;Expire\n3H    ;Minimum TTL\n)\n@    IN   NS   dns.qtht.com.vn.\ndns  IN   A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">m√°y</span><span class="token punctuation">&gt;</span></span>\n<span class="token phrase">245  IN   PTR  www.qtht.com.vn.\n</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-38-46-Screenshot from 2021-05-09 08-36-00.png" alt="Screenshot from 2021-05-09 08-36-00.png"></p><h3 id="cau-3-5" tabindex="-1"><a class="header-anchor" href="#cau-3-5" aria-hidden="true">#</a> C√¢u 3.5</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> T·∫Øt t∆∞·ªùng l·ª≠a</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> iptables stop\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-12-Screenshot from 2021-05-09 11-19-36.png" alt="Screenshot from 2021-05-09 11-19-36.png"></p><h3 id="cau-3-6" tabindex="-1"><a class="header-anchor" href="#cau-3-6" aria-hidden="true">#</a> C√¢u 3.6</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Kh·ªüi ƒë·ªông d·ªãch v·ª• <code>DNS</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> named start\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-40-08-Screenshot from 2021-05-09 13-09-56.png" alt="Screenshot from 2021-05-09 13-09-56.png"></p><h3 id="cau-3-7" tabindex="-1"><a class="header-anchor" href="#cau-3-7" aria-hidden="true">#</a> C√¢u 3.7</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Ki·ªÉm tra k·∫øt qu·∫£</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ nslookip www.qtht.com.vn <span class="token operator">&lt;</span>ƒë·ªãa ch·ªâ IP m√°y<span class="token operator">&gt;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><ul><li><p>Ph√¢n gi·∫£i xu√¥i</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-40-53-Screenshot from 2021-05-09 08-38-46.png" alt="Screenshot from 2021-05-09 08-38-46.png"></p></li><li><p>Ph√¢n gi·∫£i ng∆∞·ª£c</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-41-47-Screenshot from 2021-05-09 08-38-37.png" alt="Screenshot from 2021-05-09 08-38-37.png"></p></li></ul><h3 id="cau-3-8" tabindex="-1"><a class="header-anchor" href="#cau-3-8" aria-hidden="true">#</a> C√¢u 3.8</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Tr√™n m√°y v·∫≠t l√Ω, c·∫•u h√¨nh <code>DNS Server</code> l√† <code>IP</code> c·ªßa m√°y ·∫£o <code>CentOS</code>. Sau ƒë√≥ m·ªü tr√¨nh duy·ªát <code>web</code> v√† truy c·∫≠p v√†o ƒë·ªãa ch·ªâ <code>http://www.qtht.com.vn/myweb</code></p></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-42-52-Screenshot from 2021-05-09 08-33-53.png" alt="Screenshot from 2021-05-09 08-33-53.png"></p><div class="custom-container tip"><p class="custom-container-title">üí° FACT</p><p>C≈©ng c√≥ th·ªÉ d√πng ƒëi·ªán tho·∫°i ƒë·ªÉ k·∫øt n·ªëi (<em>Y√™u c·∫ßu x√†i chung <code>Wifi</code> v√† thi·∫øt l·∫≠p <code>DNS custom</code></em> )</p><p><img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-47-58-a4d2f03b003ff561ac2e.png" alt="a4d2f03b003ff561ac2e.png" width="250"> <img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-48-19-8f08fed60ed2fb8ca2c3.png" alt="8f08fed60ed2fb8ca2c3.png" width="250"></p></div><h2 id="_4-cau-hinh-tuong-lua-iptables" tabindex="-1"><a class="header-anchor" href="#_4-cau-hinh-tuong-lua-iptables" aria-hidden="true">#</a> 4. C·∫•u h√¨nh t∆∞·ªùng l·ª≠a <code>iptables</code></h2><div class="custom-container tip"><p class="custom-container-title">üí° KI·∫æN TH·ª®C</p><p><code>iptables</code> l√† m·ªôt b·ªô c√¥ng c·ª• ƒë∆∞·ª£c t√≠ch h·ª£p tr√™n h·ªá ƒëi·ªÅu h√†nh <code>Linux</code> ƒë·ªÉ th·ª±c hi·ªán ch·ª©c nƒÉng t∆∞·ªùng l·ª≠a theo c∆° ch·∫ø l·ªçc g√≥i tin (<code>package filtering</code>). <code>Iptables</code> theo d√µi l∆∞u l∆∞·ª£ng m·∫°ng <strong>ƒë·∫øn</strong> v√† <strong>ƒëi</strong> c·ªßa m·ªôt m√°y t√≠nh v√† l·ªçc n√≥ d·ª±a tr√™n c√°c lu·∫≠t (<code>rules</code>) do ng∆∞·ªùi d√πng t·ª± ƒë·ªãnh nghƒ©a tr∆∞·ªõc ƒë√≥.</p></div><h3 id="cau-4-1" tabindex="-1"><a class="header-anchor" href="#cau-4-1" aria-hidden="true">#</a> C√¢u 4.1</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Th·ª±c thi t∆∞·ªùng l·ª≠a</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> iptables start\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-55-08-Screenshot from 2021-05-09 09-13-04.png" alt="Screenshot from 2021-05-09 09-13-04.png"></p><h3 id="cau-4-2" tabindex="-1"><a class="header-anchor" href="#cau-4-2" aria-hidden="true">#</a> C√¢u 4.2</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Hi·ªÉn th·ªã c√°c <code>rules</code> hi·ªán c√≥ tr√™n <code>iptables</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables -v -L --line-numbers\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-56-01-Screenshot from 2021-05-09 09-18-28.png" alt="Screenshot from 2021-05-09 09-18-28.png"></p><div class="custom-container tip"><p class="custom-container-title">üí° GI·∫¢I TH√çCH</p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-57-56-iptables_filter.png" title="" alt="iptables_filter.png" width="525"><table><thead><tr><th>Gi·∫£i th√≠ch</th><th>INPUT</th><th>FORWARD</th><th>OUTPUT</th></tr></thead><tbody><tr><td>Tr·ª´u t∆∞·ª£ng</td><td>Ki·ªÉm so√°t c√°c g√≥i ƒë·∫øn t·ª´ <code>route</code> ƒë·∫øn <code>server</code> c·ªßa b·∫°n</td><td>Ki·ªÉm so√°t c√°c g√≥i b·∫Øt ngu·ªìn t·ª´ <code>server</code> c·ªßa b·∫°n ƒë·∫øn <code>nh√† m·∫°ng</code></td><td>Ki·ªÉm so√°t c√°c g√≥i ƒë∆∞·ª£c chuy·ªÉn ti·∫øp b·ªüi <code>server</code> c·ªßa b·∫°n</td></tr><tr><td>D·ªÖ hi·ªÉu</td><td>L·ªçc c√°c g√≥i d√†nh cho <code>server</code> c·ªß b·∫°n</td><td>L·ªçc c√°c g√≥i ƒë·∫øn <code>server</code> c·ªßa b·∫°n m√† <code>card wifi</code> kh√°c c√≥ th·ªÉ truy c·∫≠p</td><td>L·ªçc c√°c g√≥i c√≥ ngu·ªìn g·ªëc t·ª´ <code>server</code> c·ªßa b·∫°n</td></tr></tbody></table></div><h3 id="cau-4-3" tabindex="-1"><a class="header-anchor" href="#cau-4-3" aria-hidden="true">#</a> C√¢u 4.3</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> T·∫°o <code>rules</code> cho ph√©p c√°c m√°y kh√°c truy c·∫≠p t·ªõi d·ªãch v·ª• <code>Web</code> tr√™n <code>server</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables -A INPUT -p tcp --dport <span class="token number">80</span> -j ACCEPT\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>',53),x=(0,a.Uk)("Tham kh·∫£o c√°ch d√πng "),y=(0,a._)("code",null,"iptables",-1),Z=(0,a.Uk)(" cƒÉn b·∫£n "),_={href:"https://hocvps.com/iptables/",target:"_blank",rel:"noopener noreferrer"},T=(0,a.Uk)("t·∫°i ƒë√¢y"),N=(0,a.uE)('<ul><li><p><strong>Tr∆∞·ªõc</strong> khi cho m√°y kh√°c truy c·∫≠p v·ªõi d·ªãch v·ª• <code>Web Server</code> :</p><img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-22-49-33363b9e5d9fa8c1f18e.png" alt="33363b9e5d9fa8c1f18e.png" width="229"></li><li><p><strong>Sau</strong> khi cho m√°y kh√°c truy c·∫≠p t·ªõi d·ªãch v·ª• <code>Web Server</code> b·∫±ng l·ªánh tr√™n :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-24-12-Screenshot from 2021-05-09 09-50-53.png" alt="Screenshot from 2021-05-09 09-50-53.png"></p><img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-47-58-a4d2f03b003ff561ac2e.png" alt="a4d2f03b003ff561ac2e.png" width="227"></li></ul><h3 id="cau-4-4" tabindex="-1"><a class="header-anchor" href="#cau-4-4" aria-hidden="true">#</a> C√¢u 4.4</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> T·∫°o <code>rules</code> ƒë·ªÉ cho m√°y v·∫≠t l√Ω c√≥ th·ªÉ <code>ping</code> t·ªõi <code>server</code>, c√°c m√°y kh√°c <strong>KH√îNG</strong> <code>ping</code> ƒë∆∞·ª£c</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables -I INPUT <span class="token number">2</span> -p icmp -s <span class="token operator">&lt;</span>IP cho ph√©p<span class="token operator">&gt;</span> -j ACCEPT\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>',3),$=(0,a.Uk)("S·ª≠ d·ª•ng "),U=(0,a._)("img",{src:"https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-26-32-1406098-200.png",title:"",alt:"1406098-200.png",width:"35"},null,-1),A=(0,a.Uk)(),P={href:"https://termux.com/",target:"_blank",rel:"noopener noreferrer"},B=(0,a.Uk)("Termux"),O=(0,a.Uk)(" c·ªßa "),D=(0,a._)("code",null,"Android",-1),L=(0,a.Uk)(" ƒë·ªÉ thao t√°c c√°c l·ªánh"),W=(0,a.uE)('<div class="custom-container warning"><p class="custom-container-title">ü§î L∆ØU √ù</p><p><code>Android</code> ƒëang s·ª≠ d·ª•ng chung m·∫°ng <code>Wifi</code> c·ªßa m√°y d√πng <code>iptables</code> v√† c√≥ IP nh∆∞ sau : <code>192.168.10.101</code> (<em>ri√™ng m√°y n√†y th√¥i !</em>)</p></div><ul><li><p>Tr∆∞·ªõc khi thi·∫øt l·∫≠p <code>rules</code> ch·∫∑n <code>ping</code> :</p><ul><li><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-23-icons8-android.png" alt="icons8-android.png"><code>Android</code> s·ª≠ d·ª•ng <code>ping</code></p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-29-10-bd39e9ee27ead2b48bfb.jpeg" width="600"></li><li><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-36-icons8-centos.png" alt="icons8-centos.png"> <code>CentOS</code> s·ª≠ d·ª•ng <code>ping</code></p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-30-42-Screenshot from 2021-05-09 09-54-50.png" alt="Screenshot from 2021-05-09 09-54-50.png"></p></li></ul><p>==&gt; C·∫£ hai v·∫´n <code>ping</code> ƒë∆∞·ª£c</p></li><li><p><strong>Sau</strong> khi thi·∫øt l·∫≠p <code>rules</code> ch·∫∑n <code>ping</code> b·∫±ng l·ªánh tr√™n :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-35-55-Screenshot from 2021-05-09 09-58-15.png" alt="Screenshot from 2021-05-09 09-58-15.png"></p><div class="custom-container warning"><p class="custom-container-title">ü§î L∆ØU √ù</p><p><code>qtht.com.vn</code> t∆∞∆°ng ƒë∆∞∆°ng <code>192.168.10.135</code> v√¨ ƒë√£ c·∫•u h√¨nh <code>DNS</code> b√™n tr√™n</p></div><ul><li><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-23-icons8-android.png" alt="icons8androidpng"><code>Android</code> s·ª≠ d·ª•ng <code>ping</code></p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-34-38-3924f2fe3cfac9a490eb.png" width="600"></li><li><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-36-icons8-centos.png" alt="icons8centospng"> <code>CentOS</code> s·ª≠ d·ª•ng <code>ping</code></p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-30-42-Screenshot from 2021-05-09 09-54-50.png" alt="Screenshot from 2021-05-09 09-54-50.png"></p></li></ul></li></ul><p>==&gt; Sau khi thi·∫øt l·∫≠p <code>rules</code> ch·ªâ c√≥ m√°y c√≥ <code>IP:192.168.10.135</code> l√† <code>ping</code> ƒë∆∞·ª£c ƒë·∫øn <code>server</code>.</p><h3 id="cau-4-5" tabindex="-1"><a class="header-anchor" href="#cau-4-5" aria-hidden="true">#</a> C√¢u 4.5</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> T·∫°o <code>rules</code> ƒë·ªÉ <strong>KH√îNG</strong> cho ng∆∞·ªùi d√πng tr√™n m√°y <code>CentOS</code> truy c·∫≠p t·ªõi ƒë·ªãa ch·ªâ <code>facebook.com</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables -A OUTPUT -p tcp -m string --string facebook --algo kmp -j REJECT\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p>S·ª≠ d·ª•ng l·ªánh tr√™n ƒë·ªÉ g·ª≠i g√≥i truy c·∫≠p ƒë·∫øn <code>server</code> c·ªßa <code>Facebook</code> :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-32-04-Screenshot from 2021-05-09 10-13-39.png" alt="Screenshot from 2021-05-09 10-13-39.png"></p><p>==&gt; Sau khi ƒë√£ √°p d·ª•ng <code>rules</code> th√¨ ch√∫ng ta kh√¥ng th·ªÉ truy c·∫≠p <code>facebook</code> ƒë∆∞·ª£c n·ªØa :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-34-18-Screenshot from 2021-05-09 10-16-54.png" alt="Screenshot from 2021-05-09 10-16-54.png"></p><h3 id="cau-4-6" tabindex="-1"><a class="header-anchor" href="#cau-4-6" aria-hidden="true">#</a> C√¢u 4.6</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> L∆∞u v√† ph·ª•c h·ªìi c√°c <code>rules</code> c·ªßa <code>iptables</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cp</span> /etc/sysconfig/iptables /etc/sysconfig/iptables.orig\n$ iptables-save <span class="token operator">&gt;</span> /etc/sysconfig/iptables\n$ iptables-restore <span class="token operator">&lt;</span> /etc/sysconfig/iptables\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote><p>Tr∆∞·ªõc khi t·∫Øt <code>iptables</code>, ta n√™n <strong>sao l∆∞u</strong> (<em>backup</em>) l·∫°i <code>rules</code> b·∫±ng l·ªánh :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables-save <span class="token operator">&gt;</span> /etc/sysconfig/iptables\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container warning"><p class="custom-container-title">ü§î L∆ØU √ù</p><p>V√¨ sau khi <strong>t·∫Øt</strong> <code>iptables</code> v√† <strong>kh·ªüi ƒë·ªông</strong> l·∫°i, c√°c <code>rules</code> thi·∫øt l·∫≠p tr∆∞·ªõc ƒë√≥ s·∫Ω reset nh∆∞ sau :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-37-00-Screenshot from 2021-05-09 10-20-30.png" alt="Screenshot from 2021-05-09 10-20-30.png"></p></div><p>==&gt; Khi ƒë√≥ ta c√≥ th·ªÉ <strong>kh√¥i ph·ª•c</strong> (<em>restore</em>) l·∫°i <code>rules</code> ƒë√£ <strong>sao l∆∞u</strong> (<em>backup</em>) b·∫±ng l·ªánh sau:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables-restore <span class="token operator">&lt;</span> /etc/sysconfig/iptables\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">üßö K·∫æT QU·∫¢</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-39-11-Screenshot from 2021-05-09 10-20-59.png" alt="Screenshot from 2021-05-09 10-20-59.png"></p><p>(<em>V√¨ m√¨nh ƒë√£ xo√° <code>rules</code> ch·∫∑n <code>facebook</code> tr∆∞·ªõc ƒë√≥ n√™n kh√¥ng c√≤n ·ªü OUTPUT n·ªØa</em>)</p></div>',17),H={render:function(e,n){const s=(0,a.up)("OutboundLink"),H=(0,a.up)("RouterLink"),E=(0,a.up)("comment");return(0,a.wg)(),(0,a.iD)(a.HY,null,[c,(0,a._)("p",null,[t,(0,a._)("a",o,[r,(0,a.Wm)(s)])]),i,l,(0,a._)("p",null,[p,(0,a.Wm)(H,{to:"/nhapmon/CT179-Quan_tri_he_thong/Thuchanh/4.html"},{default:(0,a.w5)((()=>[d])),_:1})]),u,(0,a._)("div",h,[m,(0,a._)("p",null,[g,b,f,(0,a._)("a",v,[k,(0,a.Wm)(s)])])]),w,(0,a._)("p",null,[S,(0,a._)("a",C,[I,(0,a.Wm)(s)])]),q,(0,a._)("p",null,[x,y,Z,(0,a._)("a",_,[T,(0,a.Wm)(s)])]),N,(0,a._)("p",null,[$,U,A,(0,a._)("a",P,[B,(0,a.Wm)(s)]),O,D,L]),W,(0,a.Wm)(E)],64)}}}}]);