"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[353],{49334:(e,n,s)=>{s.r(n),s.d(n,{data:()=>a});const a={key:"v-f0cdc45a",path:"/nhapmon/CT179-Quan_tri_he_thong/Thuchanh/5.html",title:"Buá»•i 5 - SAMBA, DNS vÃ  Firewall",lang:"vi",frontmatter:{},excerpt:"",headers:[{level:2,title:"1. CÃ i Ä‘áº·t CentOS",slug:"_1-cai-Ä‘at-centos",children:[{level:3,title:"CÃ¢u 1.1",slug:"cau-1-1",children:[]},{level:3,title:"CÃ¢u 1.2",slug:"cau-1-2",children:[]}]},{level:2,title:"2. CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh SAMBA",slug:"_2-cai-Ä‘at-va-cau-hinh-samba",children:[{level:3,title:"CÃ¢u 2.1",slug:"cau-2-1",children:[]},{level:3,title:"CÃ¢u 2.2",slug:"cau-2-2",children:[]},{level:3,title:"CÃ¢u 2.3",slug:"cau-2-3",children:[]},{level:3,title:"CÃ¢u 2.4",slug:"cau-2-4",children:[]},{level:3,title:"CÃ¢u 2.5",slug:"cau-2-5",children:[]},{level:3,title:"CÃ¢u 2.6",slug:"cau-2-6",children:[]},{level:3,title:"CÃ¢u 2.7",slug:"cau-2-7",children:[]},{level:3,title:"CÃ¢u 2.8",slug:"cau-2-8",children:[]},{level:3,title:"CÃ¢u 2.9",slug:"cau-2-9",children:[]},{level:3,title:"CÃ¢u 2.10",slug:"cau-2-10",children:[]}]},{level:2,title:"3. CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh dá»‹ch vá»¥ DNS",slug:"_3-cai-Ä‘at-va-cau-hinh-dich-vu-dns",children:[{level:3,title:"CÃ¢u 3.1",slug:"cau-3-1",children:[]},{level:3,title:"CÃ¢u 3.2",slug:"cau-3-2",children:[]},{level:3,title:"CÃ¢u 3.3",slug:"cau-3-3",children:[]},{level:3,title:"CÃ¢u 3.4",slug:"cau-3-4",children:[]},{level:3,title:"CÃ¢u 3.5",slug:"cau-3-5",children:[]},{level:3,title:"CÃ¢u 3.6",slug:"cau-3-6",children:[]},{level:3,title:"CÃ¢u 3.7",slug:"cau-3-7",children:[]},{level:3,title:"CÃ¢u 3.8",slug:"cau-3-8",children:[]}]},{level:2,title:"4. Cáº¥u hÃ¬nh tÆ°á»ng lá»­a iptables",slug:"_4-cau-hinh-tuong-lua-iptables",children:[{level:3,title:"CÃ¢u 4.1",slug:"cau-4-1",children:[]},{level:3,title:"CÃ¢u 4.2",slug:"cau-4-2",children:[]},{level:3,title:"CÃ¢u 4.3",slug:"cau-4-3",children:[]},{level:3,title:"CÃ¢u 4.4",slug:"cau-4-4",children:[]},{level:3,title:"CÃ¢u 4.5",slug:"cau-4-5",children:[]},{level:3,title:"CÃ¢u 4.6",slug:"cau-4-6",children:[]}]}],filePathRelative:"nhapmon/CT179-Quan_tri_he_thong/Thuchanh/5.md",git:{updatedTime:163056631e4,contributors:[{name:"Zenfection",email:"44715845+Zenfection1412@users.noreply.github.com",commits:2}]}}},14073:(e,n,s)=>{s.r(n),s.d(n,{default:()=>H});var a=s(66252);const c=(0,a.uE)('<h1 id="buoi-5-samba-dns-va-firewall" tabindex="-1"><a class="header-anchor" href="#buoi-5-samba-dns-va-firewall" aria-hidden="true">#</a> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-46-11-icons8-dns.png"> Buá»•i 5 - <code>SAMBA</code>, <code>DNS</code> vÃ  <code>Firewall</code></h1><h2 id="_1-cai-Ä‘at-centos" tabindex="-1"><a class="header-anchor" href="#_1-cai-Ä‘at-centos" aria-hidden="true">#</a> 1. CÃ i Ä‘áº·t CentOS</h2><h3 id="cau-1-1" tabindex="-1"><a class="header-anchor" href="#cau-1-1" aria-hidden="true">#</a> CÃ¢u 1.1</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Thá»±c hiá»‡n cÃ i Ä‘áº·t <code>CentOS 6</code> (<em>hoáº·c <code>CentOS 7</code>, <code>8</code></em>) vÃ o mÃ¡y tÃ­nh cÃ¡ nhÃ¢n (<em>hoáº·c mÃ¡y áº£o</em>)</p></blockquote>',4),t=(0,a.Uk)("Link file ISO "),o={href:"https://www.centos.org/download/",target:"_blank",rel:"noopener noreferrer"},r=(0,a.Uk)("CentOS 8"),i=(0,a._)("h3",{id:"cau-1-2",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#cau-1-2","aria-hidden":"true"},"#"),(0,a.Uk)(" CÃ¢u 1.2")],-1),l=(0,a._)("blockquote",null,[(0,a._)("p",null,[(0,a._)("img",{src:"https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png",width:"30"}),(0,a.Uk)(" CÃ i Ä‘áº·t dá»‹ch vá»¥ "),(0,a._)("code",null,"Web Server"),(0,a.Uk)(" trÃªn mÃ¡y áº£o. Táº¡o má»™t trang web Ä‘Æ¡n giáº£n "),(0,a._)("code",null,"index.html"),(0,a.Uk)(" lÆ°u vÃ o thÆ° má»¥c "),(0,a._)("code",null,"/var/www/html/myweb")])],-1),p=(0,a.Uk)("ÄÃ£ lÃ m trong bÃ i thá»±c hÃ nh "),d=(0,a.Uk)("Buá»•i 4"),u=(0,a.uE)('<h2 id="_2-cai-Ä‘at-va-cau-hinh-samba" tabindex="-1"><a class="header-anchor" href="#_2-cai-Ä‘at-va-cau-hinh-samba" aria-hidden="true">#</a> 2. CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh <code>SAMBA</code></h2><div class="custom-container tip"><p class="custom-container-title">ğŸ’¡ KIáº¾N THá»¨C</p><p><code>Samba</code> lÃ  dá»‹ch vá»¥ chia sáº» <code>file</code> giá»¯a cÃ¡c ná»n táº£ng khÃ¡c nhau nhÆ° <code>Windows</code> vÃ  <code>Linux</code> báº±ng cÃ¡ch sá»­ dá»¥ng giao thá»©c <code>SMB/CIFS</code>.</p></div><h3 id="cau-2-1" tabindex="-1"><a class="header-anchor" href="#cau-2-1" aria-hidden="true">#</a> CÃ¢u 2.1</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> CÃ i Ä‘áº·t dá»‹ch vá»¥ <code>Samba</code> báº±ng lá»‡nh :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ yum <span class="token function">install</span> samba\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-18-16-Screenshot from 2021-05-09 11-04-12.png" alt="Screenshot from 2021-05-09 11-04-12.png"></p><p>==&gt; Báº¡n cÃ³ thá»ƒ gÃµ <code>samba --version</code> Ä‘á»ƒ kiá»ƒm tra Ä‘Ã£ cÃ i Ä‘áº·t chÆ°a.</p><h3 id="cau-2-2" tabindex="-1"><a class="header-anchor" href="#cau-2-2" aria-hidden="true">#</a> CÃ¢u 2.2</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Táº¡o ngÆ°á»i dÃ¹ng vÃ  nhÃ³m ngÆ°á»i dÃ¹ng chia sáº» dá»¯ liá»‡u:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ adduser tuanthai\n$ <span class="token function">passwd</span> tuanthai\n$ <span class="token function">groupadd</span> lecturers\n$ <span class="token function">usermod</span> -aG lecturers tuanthai\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-04-43-Screenshot from 2021-05-09 11-06-34.png" alt="Screenshot from 2021-05-09 11-06-34.png"></p><h3 id="cau-2-3" tabindex="-1"><a class="header-anchor" href="#cau-2-3" aria-hidden="true">#</a> CÃ¢u 2.3</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Táº¡o thÆ° má»¥c cáº§n chia sáº» vÃ  phÃ¢n quyá»n :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">mkdir</span> /data\n$ <span class="token function">chgrp</span> lecturers /data\n$ <span class="token function">chmod</span> -R <span class="token number">775</span> /data\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-06-02-Screenshot from 2021-05-09 11-12-45.png" width="600"><h3 id="cau-2-4" tabindex="-1"><a class="header-anchor" href="#cau-2-4" aria-hidden="true">#</a> CÃ¢u 2.4</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Cáº¥u hÃ¬nh dá»‹ch vá»¥ <code>SAMBA</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cp</span> /etc/samba/smb.conf /etc/samba/smb.conf.orig\n$ <span class="token function">nano</span> /etc/samba/smb.conf\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-textile ext-textile line-numbers-mode"><pre class="language-textile"><code><span class="token phrase">...\n[data]\n    comment = Shared folder for lecturers\n    path = /data\n    browsable = yes\n    writable = yes\n    read only = no\n    valid users = @lecturers\n</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></blockquote><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-06-49-Screenshot from 2021-05-09 11-16-49.png" width="600">',15),h={class:"custom-container tip"},m=(0,a.uE)('<p class="custom-container-title">ğŸ’¡ GIáº¢I THÃCH</p><ul><li><p><code>comment</code> : chÃº thÃ­ch</p></li><li><p><code>path</code> : Ä‘Æ°á»ng dáº«n Ä‘áº¿n thÆ° má»¥c cáº§n káº¿t ná»‘i <code>Samba</code></p></li><li><p><code>browsafe</code> : kiá»ƒm soÃ¡t viá»‡c chia sáº» file cÃ³ Ä‘Æ°á»£c nhÃ¬n tháº¥y trong cháº¿ Ä‘á»™ thá»±c</p></li><li><p><code>writable</code> : Cho phÃ©p ghi file (<em>Ä‘áº£o ngÆ°á»£c vá»›i <code>read only</code></em>)</p></li><li><p><code>read only</code> : Chá»‰ cho phÃ©p Ä‘á»c (<em>Ä‘áº£o ngÆ°á»£c vá»›i <code>read only</code></em>)</p></li><li><p><code>valid users</code> : ngÆ°á»i dÃ¹ng cÃ³ hiá»‡u lá»±c</p></li></ul>',2),g=(0,a.Uk)("==> Tham kháº£o cÃ¡ch "),b=(0,a._)("code",null,"config",-1),f=(0,a.Uk)(),v={href:"https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html",target:"_blank",rel:"noopener noreferrer"},k=(0,a.Uk)("táº¡i Ä‘Ã¢y"),w=(0,a.uE)('<h3 id="cau-2-5" tabindex="-1"><a class="header-anchor" href="#cau-2-5" aria-hidden="true">#</a> CÃ¢u 2.5</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> ThÃªm ngÆ°á»i dÃ¹ng cho dá»‹ch vá»¥ <code>SAMBA</code> báº±ng lá»‡nh :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ smbpasswd -a tuanthai\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-07-42-Screenshot from 2021-05-09 11-17-34.png" alt="Screenshot from 2021-05-09 11-17-34.png"></p><h3 id="cau-2-6" tabindex="-1"><a class="header-anchor" href="#cau-2-6" aria-hidden="true">#</a> CÃ¢u 2.6</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Cáº¥u hÃ¬nh <code>SELINUX</code> cho phÃ©p <code>Samba</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ setsebool -P samba_export_all_rw on\n$ setsebool -P samba_enable_home_dirs on\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote><ul><li><p><code>samba_export_all_rw</code> : cho phÃ©p xuáº¥t báº¥t ká»³ <code>files</code> hay <code>diretories</code> nÃ o, cho phÃ©p quyá»n <strong>Ä‘á»c</strong> vÃ  <strong>ghi</strong></p></li><li><p><code>samba_enable_home_dirs on</code> : cho phÃ©p chia sáº» thÆ° má»¥c chÃ­nh cá»§a ngÆ°á»i dÃ¹ng</p></li></ul>',6),S=(0,a.Uk)("==> Tham kháº£o "),C={href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/managing_confined_services/sect-managing_confined_services-samba-booleans",target:"_blank",rel:"noopener noreferrer"},I=(0,a.Uk)("táº¡i Ä‘Ã¢y"),q=(0,a.uE)('<h3 id="cau-2-7" tabindex="-1"><a class="header-anchor" href="#cau-2-7" aria-hidden="true">#</a> CÃ¢u 2.7</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Táº¯t tÆ°á»ng lá»­a</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> iptables stop\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-12-Screenshot from 2021-05-09 11-19-36.png" alt="Screenshot from 2021-05-09 11-19-36.png"></p><h3 id="cau-2-8" tabindex="-1"><a class="header-anchor" href="#cau-2-8" aria-hidden="true">#</a> CÃ¢u 2.8</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ <code>Samba</code> :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> smb start\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-55-Screenshot from 2021-05-09 11-20-05.png" width="600"><h3 id="cau-2-9" tabindex="-1"><a class="header-anchor" href="#cau-2-9" aria-hidden="true">#</a> CÃ¢u 2.9</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> TrÃªn mÃ¡y <code>Windows</code>, báº­t tÃ­nh nÄƒng há»— trá»£ <code>SMB1</code> :</p><p>Má»Ÿ <code>Control Panel</code> â <code>Programs</code> â <code>Turn Windows feature on or off</code> â <code>SMB 1.0/CIFS FIle Sharing Support</code> â Chá»n <code>SMB 1.0/CIFS Client</code></p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-13-07-32-Screen Shot 2021-05-07 at 13.07.25.png" alt="Screen Shot 2021-05-07 at 13.07.25.png"></p></blockquote><p>==&gt; CÃ i <code>CentOS</code> trÃªn á»• cá»©ng, khÃ´ng sá»­ dá»¥ng mÃ¡y áº£o, nÃªn khÃ´ng lÃ m bÆ°á»›c nÃ y</p><h3 id="cau-2-10" tabindex="-1"><a class="header-anchor" href="#cau-2-10" aria-hidden="true">#</a> CÃ¢u 2.10</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> TrÃªn <code>File Exployer</code>, chá»n tÃ­nh nÄƒng <code>Add a network location</code> Ä‘á»ƒ káº¿t ná»‘i tá»›i <code>Samba server</code> sá»­ dá»¥ng Ä‘á»‹a chá»‰ <code>\\\\&lt;IP mÃ¡y CentOS&gt;\\data</code></p></blockquote><p>Thá»±c hiá»‡n cÃ¡c bÆ°á»›c sau Ä‘á»ƒ káº¿t ná»‘i giao thá»©c <code>Samba</code> trÃªn <code>CentOS</code> :</p><ul><li><p><strong>B1</strong>: VÃ o <code>Nautilus</code> (<em>hay cÃ²n gá»i lÃ  Finder</em>) â‡¨ Chá»n <code>Other Locations</code> â‡¨ Äiá»n <code>IP</code> cá»§a mÃ¡y cháº¡y <code>Samba</code> â‡¨ Chá»n <code>Connect</code></p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-12-52-Screenshot from 2021-05-09 12-03-12.png" width="600"></li><li><p><strong>B2</strong>: Chá»n <code>Registerd User</code> vÃ  Ä‘iá»n <em>tÃ i khoáº£n</em> vÃ  <em>máº­t kháº©u</em> Ä‘Äƒng kÃ½ <code>Samba</code> á»Ÿ trÃªn â‡¨ Chá»n <code>Connect</code></p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-14-31-Screenshot from 2021-05-09 12-24-39.png" width="344"></li><li><p><strong>B3</strong>: Báº¡n cÃ³ thá»ƒ táº¡o <code>file</code> (<em>vÃ­ dá»¥ táº¡o <code>file1</code> nhÆ° sau</em>)</p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-16-48-Screenshot from 2021-05-09 12-19-10.png" width="500"><div class="custom-container tip"><p class="custom-container-title">ğŸ’¡ FACT</p><p>VÃ o mÃ¡y káº¿t ná»‘i <code>Samba</code> kiá»ƒm tra nhÆ° sau :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-17-11-Screenshot from 2021-05-09 12-19-36.png" alt="Screenshot from 2021-05-09 12-19-36.png"></p><p>==&gt; NhÆ° Ä‘Ã£ tháº¥y <code>file1</code> Ä‘Ã£ xuáº¥t hiá»‡n</p></div></li></ul><h2 id="_3-cai-Ä‘at-va-cau-hinh-dich-vu-dns" tabindex="-1"><a class="header-anchor" href="#_3-cai-Ä‘at-va-cau-hinh-dich-vu-dns" aria-hidden="true">#</a> 3. CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh dá»‹ch vá»¥ <code>DNS</code></h2><div class="custom-container tip"><p class="custom-container-title">ğŸ’¡ KIáº¾N THá»¨C</p><p><code>DNS</code> (<em>Domain Name System</em>) lÃ  giáº£i phÃ¡p dÃ¹ng tÃªn miá»n thay cho Ä‘á»‹a chá»‰ <code>IP</code> khÃ³ nhá»› khi sá»­ dá»¥ng cÃ¡c dá»‹ch vá»¥ máº¡ng. Truy cáº­p Ä‘áº¿n <code>website</code> cá»§a <code>Khoa CNTT-ÄH Cáº§n ThÆ¡</code> báº±ng Ä‘á»‹a chá»‰ nÃ o dá»… hÆ¡n ?</p><table><thead><tr><th>http://203.162.36.146</th><th>http://cit.ctu.edu.vn</th></tr></thead></table><p>Báº¡n cáº§n pháº£i cÃ i Ä‘áº·t pháº§n má»m <code>BIND</code> trÃªn <code>CentOS</code> Ä‘á»ƒ phÃ¢n giáº£i tÃªn miá»n <code>qtht.com.vn</code></p></div><h3 id="cau-3-1" tabindex="-1"><a class="header-anchor" href="#cau-3-1" aria-hidden="true">#</a> CÃ¢u 3.1</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> CÃ i Ä‘áº·t <code>BIND</code> vÃ  cÃ¡c cÃ´ng cá»¥ cáº§n thiáº¿t :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ yum <span class="token function">install</span> <span class="token builtin class-name">bind</span> bind-utils\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-04-46-Screenshot from 2021-05-09 12-33-54.png" alt="Screenshot from 2021-05-09 12-33-54.png"></p><p>==&gt; Báº¡n cÃ³ thá»ƒ gÃµ <code>named -v</code> Ä‘á»ƒ kiá»ƒm tra <code>bind-utils</code> Ä‘Ã£ cÃ i chÆ°a.</p><h3 id="cau-3-2" tabindex="-1"><a class="header-anchor" href="#cau-3-2" aria-hidden="true">#</a> CÃ¢u 3.2</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> CÃ i hÃ¬nh <code>DNS server</code> :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">nano</span> /etc/named.conf \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-textile ext-textile line-numbers-mode"><pre class="language-textile"><code><span class="token phrase">...\noption {\n    listen-on port 53 { 127.0.0.1; any;};\n    ...\n    allow-query    { localhost; any;};\n    recursion yes;\n    ...\n};</span>\n\n<span class="token phrase">loggin {\n    ...\n    };\n};</span>\n\n<span class="token phrase">zone &quot;.&quot; IN {\n    ...\n};</span>\n\n<span class="token phrase">zone &quot;&lt;tÃªn miá»n&gt;&quot; IN {\n    type master;\n    file &quot;forward.qtht&quot;;\n    allow-update { none; };\n};</span>\n\n<span class="token phrase">zone &quot;&lt;24bit máº¡ng Ä‘áº£o chiá»u&gt;.in-addr.arpa&quot; IN {\n    type master;\n    file &quot;reverse.qtht&quot;;\n    allow-update { none; };\n};\n...\n</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div></blockquote><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-10-02-Screenshot from 2021-05-09 12-36-20.png" width="600"><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-28-17-Screenshot from 2021-05-09 13-17-02.png" width="600"><h3 id="cau-3-3" tabindex="-1"><a class="header-anchor" href="#cau-3-3" aria-hidden="true">#</a> CÃ¢u 3.3</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Táº¡o táº­p tin cáº¥u hÃ¬nh phÃ¢n giáº£i xuÃ´i:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cp</span> /var/named/named.localhost /var/named/forward.qtht\n$ <span class="token function">chgrp</span> named /var/named/forward.qtht\n$ <span class="token function">nano</span> /var/named/forward.qtht\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-textile ext-textile line-numbers-mode"><pre class="language-textile"><code><span class="token phrase">$TTL 1D\n<span class="token inline"><span class="token punctuation">@</span><span class="token code keyword">   IN  SOA </span><span class="token punctuation">@</span></span> &lt;tÃªn miá»n&gt;. (\n0     ;Serial\n1D    ;Refresh\n1H    ;Retry\n1W    ;Expire\n3H    ;Minimum TTL\n)\n@    IN    NS    dns.qtht.com.vn.\ndns  IN    A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">mÃ¡y</span><span class="token punctuation">&gt;</span></span>\n<span class="token phrase">www  IN    A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">mÃ¡y</span><span class="token punctuation">&gt;</span></span>\n<span class="token phrase">htql IN    A    8.8.8.8\n</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-26-57-Screenshot from 2021-05-09 08-35-44.png" alt="Screenshot from 2021-05-09 08-35-44.png"></p><h3 id="cau-3-4" tabindex="-1"><a class="header-anchor" href="#cau-3-4" aria-hidden="true">#</a> CÃ¢u 3.4</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Táº¡o táº­p tin cáº¥u hÃ¬nh phÃ¢n giáº£i ngÆ°á»£c :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cp</span> /var/named/forward.qtht /var/named/reverse.qtht\n$ <span class="token function">chgrp</span> named /var/named/reverse.qtht\n$ <span class="token function">nano</span> /var/named/reverse.qtht\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-textile ext-textile line-numbers-mode"><pre class="language-textile"><code><span class="token phrase">$TTL 1D\n<span class="token inline"><span class="token punctuation">@</span><span class="token code keyword">   IN  SOA </span><span class="token punctuation">@</span></span> qtht.com.vn. (\n0    ;Serial\n1D    ;Refresh\n1H    ;Retry\n1W    ;Expire\n3H    ;Minimum TTL\n)\n@    IN   NS   dns.qtht.com.vn.\ndns  IN   A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">mÃ¡y</span><span class="token punctuation">&gt;</span></span>\n<span class="token phrase">245  IN   PTR  www.qtht.com.vn.\n</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-38-46-Screenshot from 2021-05-09 08-36-00.png" alt="Screenshot from 2021-05-09 08-36-00.png"></p><h3 id="cau-3-5" tabindex="-1"><a class="header-anchor" href="#cau-3-5" aria-hidden="true">#</a> CÃ¢u 3.5</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Táº¯t tÆ°á»ng lá»­a</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> iptables stop\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-12-Screenshot from 2021-05-09 11-19-36.png" alt="Screenshot from 2021-05-09 11-19-36.png"></p><h3 id="cau-3-6" tabindex="-1"><a class="header-anchor" href="#cau-3-6" aria-hidden="true">#</a> CÃ¢u 3.6</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ <code>DNS</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> named start\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-40-08-Screenshot from 2021-05-09 13-09-56.png" alt="Screenshot from 2021-05-09 13-09-56.png"></p><h3 id="cau-3-7" tabindex="-1"><a class="header-anchor" href="#cau-3-7" aria-hidden="true">#</a> CÃ¢u 3.7</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Kiá»ƒm tra káº¿t quáº£</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ nslookip www.qtht.com.vn <span class="token operator">&lt;</span>Ä‘á»‹a chá»‰ IP mÃ¡y<span class="token operator">&gt;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><ul><li><p>PhÃ¢n giáº£i xuÃ´i</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-40-53-Screenshot from 2021-05-09 08-38-46.png" alt="Screenshot from 2021-05-09 08-38-46.png"></p></li><li><p>PhÃ¢n giáº£i ngÆ°á»£c</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-41-47-Screenshot from 2021-05-09 08-38-37.png" alt="Screenshot from 2021-05-09 08-38-37.png"></p></li></ul><h3 id="cau-3-8" tabindex="-1"><a class="header-anchor" href="#cau-3-8" aria-hidden="true">#</a> CÃ¢u 3.8</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> TrÃªn mÃ¡y váº­t lÃ½, cáº¥u hÃ¬nh <code>DNS Server</code> lÃ  <code>IP</code> cá»§a mÃ¡y áº£o <code>CentOS</code>. Sau Ä‘Ã³ má»Ÿ trÃ¬nh duyá»‡t <code>web</code> vÃ  truy cáº­p vÃ o Ä‘á»‹a chá»‰ <code>http://www.qtht.com.vn/myweb</code></p></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-42-52-Screenshot from 2021-05-09 08-33-53.png" alt="Screenshot from 2021-05-09 08-33-53.png"></p><div class="custom-container tip"><p class="custom-container-title">ğŸ’¡ FACT</p><p>CÅ©ng cÃ³ thá»ƒ dÃ¹ng Ä‘iá»‡n thoáº¡i Ä‘á»ƒ káº¿t ná»‘i (<em>YÃªu cáº§u xÃ i chung <code>Wifi</code> vÃ  thiáº¿t láº­p <code>DNS custom</code></em> )</p><p><img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-47-58-a4d2f03b003ff561ac2e.png" alt="a4d2f03b003ff561ac2e.png" width="250"> <img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-48-19-8f08fed60ed2fb8ca2c3.png" alt="8f08fed60ed2fb8ca2c3.png" width="250"></p></div><h2 id="_4-cau-hinh-tuong-lua-iptables" tabindex="-1"><a class="header-anchor" href="#_4-cau-hinh-tuong-lua-iptables" aria-hidden="true">#</a> 4. Cáº¥u hÃ¬nh tÆ°á»ng lá»­a <code>iptables</code></h2><div class="custom-container tip"><p class="custom-container-title">ğŸ’¡ KIáº¾N THá»¨C</p><p><code>iptables</code> lÃ  má»™t bá»™ cÃ´ng cá»¥ Ä‘Æ°á»£c tÃ­ch há»£p trÃªn há»‡ Ä‘iá»u hÃ nh <code>Linux</code> Ä‘á»ƒ thá»±c hiá»‡n chá»©c nÄƒng tÆ°á»ng lá»­a theo cÆ¡ cháº¿ lá»c gÃ³i tin (<code>package filtering</code>). <code>Iptables</code> theo dÃµi lÆ°u lÆ°á»£ng máº¡ng <strong>Ä‘áº¿n</strong> vÃ  <strong>Ä‘i</strong> cá»§a má»™t mÃ¡y tÃ­nh vÃ  lá»c nÃ³ dá»±a trÃªn cÃ¡c luáº­t (<code>rules</code>) do ngÆ°á»i dÃ¹ng tá»± Ä‘á»‹nh nghÄ©a trÆ°á»›c Ä‘Ã³.</p></div><h3 id="cau-4-1" tabindex="-1"><a class="header-anchor" href="#cau-4-1" aria-hidden="true">#</a> CÃ¢u 4.1</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Thá»±c thi tÆ°á»ng lá»­a</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> iptables start\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-55-08-Screenshot from 2021-05-09 09-13-04.png" alt="Screenshot from 2021-05-09 09-13-04.png"></p><h3 id="cau-4-2" tabindex="-1"><a class="header-anchor" href="#cau-4-2" aria-hidden="true">#</a> CÃ¢u 4.2</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Hiá»ƒn thá»‹ cÃ¡c <code>rules</code> hiá»‡n cÃ³ trÃªn <code>iptables</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables -v -L --line-numbers\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-56-01-Screenshot from 2021-05-09 09-18-28.png" alt="Screenshot from 2021-05-09 09-18-28.png"></p><div class="custom-container tip"><p class="custom-container-title">ğŸ’¡ GIáº¢I THÃCH</p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-57-56-iptables_filter.png" title="" alt="iptables_filter.png" width="525"><table><thead><tr><th>Giáº£i thÃ­ch</th><th>INPUT</th><th>FORWARD</th><th>OUTPUT</th></tr></thead><tbody><tr><td>Trá»«u tÆ°á»£ng</td><td>Kiá»ƒm soÃ¡t cÃ¡c gÃ³i Ä‘áº¿n tá»« <code>route</code> Ä‘áº¿n <code>server</code> cá»§a báº¡n</td><td>Kiá»ƒm soÃ¡t cÃ¡c gÃ³i báº¯t nguá»“n tá»« <code>server</code> cá»§a báº¡n Ä‘áº¿n <code>nhÃ  máº¡ng</code></td><td>Kiá»ƒm soÃ¡t cÃ¡c gÃ³i Ä‘Æ°á»£c chuyá»ƒn tiáº¿p bá»Ÿi <code>server</code> cá»§a báº¡n</td></tr><tr><td>Dá»… hiá»ƒu</td><td>Lá»c cÃ¡c gÃ³i dÃ nh cho <code>server</code> cá»§ báº¡n</td><td>Lá»c cÃ¡c gÃ³i Ä‘áº¿n <code>server</code> cá»§a báº¡n mÃ  <code>card wifi</code> khÃ¡c cÃ³ thá»ƒ truy cáº­p</td><td>Lá»c cÃ¡c gÃ³i cÃ³ nguá»“n gá»‘c tá»« <code>server</code> cá»§a báº¡n</td></tr></tbody></table></div><h3 id="cau-4-3" tabindex="-1"><a class="header-anchor" href="#cau-4-3" aria-hidden="true">#</a> CÃ¢u 4.3</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Táº¡o <code>rules</code> cho phÃ©p cÃ¡c mÃ¡y khÃ¡c truy cáº­p tá»›i dá»‹ch vá»¥ <code>Web</code> trÃªn <code>server</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables -A INPUT -p tcp --dport <span class="token number">80</span> -j ACCEPT\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>',53),x=(0,a.Uk)("Tham kháº£o cÃ¡ch dÃ¹ng "),y=(0,a._)("code",null,"iptables",-1),Z=(0,a.Uk)(" cÄƒn báº£n "),_={href:"https://hocvps.com/iptables/",target:"_blank",rel:"noopener noreferrer"},T=(0,a.Uk)("táº¡i Ä‘Ã¢y"),N=(0,a.uE)('<ul><li><p><strong>TrÆ°á»›c</strong> khi cho mÃ¡y khÃ¡c truy cáº­p vá»›i dá»‹ch vá»¥ <code>Web Server</code> :</p><img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-22-49-33363b9e5d9fa8c1f18e.png" alt="33363b9e5d9fa8c1f18e.png" width="229"></li><li><p><strong>Sau</strong> khi cho mÃ¡y khÃ¡c truy cáº­p tá»›i dá»‹ch vá»¥ <code>Web Server</code> báº±ng lá»‡nh trÃªn :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-24-12-Screenshot from 2021-05-09 09-50-53.png" alt="Screenshot from 2021-05-09 09-50-53.png"></p><img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-47-58-a4d2f03b003ff561ac2e.png" alt="a4d2f03b003ff561ac2e.png" width="227"></li></ul><h3 id="cau-4-4" tabindex="-1"><a class="header-anchor" href="#cau-4-4" aria-hidden="true">#</a> CÃ¢u 4.4</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Táº¡o <code>rules</code> Ä‘á»ƒ cho mÃ¡y váº­t lÃ½ cÃ³ thá»ƒ <code>ping</code> tá»›i <code>server</code>, cÃ¡c mÃ¡y khÃ¡c <strong>KHÃ”NG</strong> <code>ping</code> Ä‘Æ°á»£c</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables -I INPUT <span class="token number">2</span> -p icmp -s <span class="token operator">&lt;</span>IP cho phÃ©p<span class="token operator">&gt;</span> -j ACCEPT\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>',3),$=(0,a.Uk)("Sá»­ dá»¥ng "),U=(0,a._)("img",{src:"https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-26-32-1406098-200.png",title:"",alt:"1406098-200.png",width:"35"},null,-1),A=(0,a.Uk)(),P={href:"https://termux.com/",target:"_blank",rel:"noopener noreferrer"},B=(0,a.Uk)("Termux"),O=(0,a.Uk)(" cá»§a "),D=(0,a._)("code",null,"Android",-1),L=(0,a.Uk)(" Ä‘á»ƒ thao tÃ¡c cÃ¡c lá»‡nh"),W=(0,a.uE)('<div class="custom-container warning"><p class="custom-container-title">ğŸ¤” LÆ¯U Ã</p><p><code>Android</code> Ä‘ang sá»­ dá»¥ng chung máº¡ng <code>Wifi</code> cá»§a mÃ¡y dÃ¹ng <code>iptables</code> vÃ  cÃ³ IP nhÆ° sau : <code>192.168.10.101</code> (<em>riÃªng mÃ¡y nÃ y thÃ´i !</em>)</p></div><ul><li><p>TrÆ°á»›c khi thiáº¿t láº­p <code>rules</code> cháº·n <code>ping</code> :</p><ul><li><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-23-icons8-android.png" alt="icons8-android.png"><code>Android</code> sá»­ dá»¥ng <code>ping</code></p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-29-10-bd39e9ee27ead2b48bfb.jpeg" width="600"></li><li><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-36-icons8-centos.png" alt="icons8-centos.png"> <code>CentOS</code> sá»­ dá»¥ng <code>ping</code></p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-30-42-Screenshot from 2021-05-09 09-54-50.png" alt="Screenshot from 2021-05-09 09-54-50.png"></p></li></ul><p>==&gt; Cáº£ hai váº«n <code>ping</code> Ä‘Æ°á»£c</p></li><li><p><strong>Sau</strong> khi thiáº¿t láº­p <code>rules</code> cháº·n <code>ping</code> báº±ng lá»‡nh trÃªn :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-35-55-Screenshot from 2021-05-09 09-58-15.png" alt="Screenshot from 2021-05-09 09-58-15.png"></p><div class="custom-container warning"><p class="custom-container-title">ğŸ¤” LÆ¯U Ã</p><p><code>qtht.com.vn</code> tÆ°Æ¡ng Ä‘Æ°Æ¡ng <code>192.168.10.135</code> vÃ¬ Ä‘Ã£ cáº¥u hÃ¬nh <code>DNS</code> bÃªn trÃªn</p></div><ul><li><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-23-icons8-android.png" alt="icons8androidpng"><code>Android</code> sá»­ dá»¥ng <code>ping</code></p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-34-38-3924f2fe3cfac9a490eb.png" width="600"></li><li><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-36-icons8-centos.png" alt="icons8centospng"> <code>CentOS</code> sá»­ dá»¥ng <code>ping</code></p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-30-42-Screenshot from 2021-05-09 09-54-50.png" alt="Screenshot from 2021-05-09 09-54-50.png"></p></li></ul></li></ul><p>==&gt; Sau khi thiáº¿t láº­p <code>rules</code> chá»‰ cÃ³ mÃ¡y cÃ³ <code>IP:192.168.10.135</code> lÃ  <code>ping</code> Ä‘Æ°á»£c Ä‘áº¿n <code>server</code>.</p><h3 id="cau-4-5" tabindex="-1"><a class="header-anchor" href="#cau-4-5" aria-hidden="true">#</a> CÃ¢u 4.5</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> Táº¡o <code>rules</code> Ä‘á»ƒ <strong>KHÃ”NG</strong> cho ngÆ°á»i dÃ¹ng trÃªn mÃ¡y <code>CentOS</code> truy cáº­p tá»›i Ä‘á»‹a chá»‰ <code>facebook.com</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables -A OUTPUT -p tcp -m string --string facebook --algo kmp -j REJECT\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote><p>Sá»­ dá»¥ng lá»‡nh trÃªn Ä‘á»ƒ gá»­i gÃ³i truy cáº­p Ä‘áº¿n <code>server</code> cá»§a <code>Facebook</code> :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-32-04-Screenshot from 2021-05-09 10-13-39.png" alt="Screenshot from 2021-05-09 10-13-39.png"></p><p>==&gt; Sau khi Ä‘Ã£ Ã¡p dá»¥ng <code>rules</code> thÃ¬ chÃºng ta khÃ´ng thá»ƒ truy cáº­p <code>facebook</code> Ä‘Æ°á»£c ná»¯a :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-34-18-Screenshot from 2021-05-09 10-16-54.png" alt="Screenshot from 2021-05-09 10-16-54.png"></p><h3 id="cau-4-6" tabindex="-1"><a class="header-anchor" href="#cau-4-6" aria-hidden="true">#</a> CÃ¢u 4.6</h3><blockquote><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-06-29-icons8-questions.png" width="30"> LÆ°u vÃ  phá»¥c há»“i cÃ¡c <code>rules</code> cá»§a <code>iptables</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cp</span> /etc/sysconfig/iptables /etc/sysconfig/iptables.orig\n$ iptables-save <span class="token operator">&gt;</span> /etc/sysconfig/iptables\n$ iptables-restore <span class="token operator">&lt;</span> /etc/sysconfig/iptables\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote><p>TrÆ°á»›c khi táº¯t <code>iptables</code>, ta nÃªn <strong>sao lÆ°u</strong> (<em>backup</em>) láº¡i <code>rules</code> báº±ng lá»‡nh :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables-save <span class="token operator">&gt;</span> /etc/sysconfig/iptables\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container warning"><p class="custom-container-title">ğŸ¤” LÆ¯U Ã</p><p>VÃ¬ sau khi <strong>táº¯t</strong> <code>iptables</code> vÃ  <strong>khá»Ÿi Ä‘á»™ng</strong> láº¡i, cÃ¡c <code>rules</code> thiáº¿t láº­p trÆ°á»›c Ä‘Ã³ sáº½ reset nhÆ° sau :</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-37-00-Screenshot from 2021-05-09 10-20-30.png" alt="Screenshot from 2021-05-09 10-20-30.png"></p></div><p>==&gt; Khi Ä‘Ã³ ta cÃ³ thá»ƒ <strong>khÃ´i phá»¥c</strong> (<em>restore</em>) láº¡i <code>rules</code> Ä‘Ã£ <strong>sao lÆ°u</strong> (<em>backup</em>) báº±ng lá»‡nh sau:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ iptables-restore <span class="token operator">&lt;</span> /etc/sysconfig/iptables\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">ğŸ§š Káº¾T QUáº¢</p><p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-39-11-Screenshot from 2021-05-09 10-20-59.png" alt="Screenshot from 2021-05-09 10-20-59.png"></p><p>(<em>VÃ¬ mÃ¬nh Ä‘Ã£ xoÃ¡ <code>rules</code> cháº·n <code>facebook</code> trÆ°á»›c Ä‘Ã³ nÃªn khÃ´ng cÃ²n á»Ÿ OUTPUT ná»¯a</em>)</p></div>',17),H={render:function(e,n){const s=(0,a.up)("OutboundLink"),H=(0,a.up)("RouterLink"),E=(0,a.up)("comment");return(0,a.wg)(),(0,a.iD)(a.HY,null,[c,(0,a._)("p",null,[t,(0,a._)("a",o,[r,(0,a.Wm)(s)])]),i,l,(0,a._)("p",null,[p,(0,a.Wm)(H,{to:"/nhapmon/CT179-Quan_tri_he_thong/Thuchanh/4.html"},{default:(0,a.w5)((()=>[d])),_:1})]),u,(0,a._)("div",h,[m,(0,a._)("p",null,[g,b,f,(0,a._)("a",v,[k,(0,a.Wm)(s)])])]),w,(0,a._)("p",null,[S,(0,a._)("a",C,[I,(0,a.Wm)(s)])]),q,(0,a._)("p",null,[x,y,Z,(0,a._)("a",_,[T,(0,a.Wm)(s)])]),N,(0,a._)("p",null,[$,U,A,(0,a._)("a",P,[B,(0,a.Wm)(s)]),O,D,L]),W,(0,a.Wm)(E)],64)}}}}]);