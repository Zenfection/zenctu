# Thá»±c hÃ nh buá»•i 2

::: tip ğŸ“ Äá»€ BÃ€I

<div class="pdfZen">
  <iframe src="https://drive.google.com/file/d/108G1eui71KWLox5ZOg152FepWrKN7PEd/preview"></iframe>
</div>
:::

## 1.Chuáº©n bá»‹

### Giá»›i thiá»‡u `WireShark` <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/24-12-57-59-CAAUmNO1.png" width="35">

[WireShark](https://www.wireshark.org/) lÃ  cÃ´ng cá»¥ mÃ£ nguá»“n má»Ÿ Ä‘a ná»n táº£ng cho phÃ©p quan sÃ¡t vÃ  phÃ¢n tÃ­ch cÃ¡c cÃ¡c gÃ²i dá»¯ liá»‡u máº¡ng báº¯t Ä‘Æ°á»£c theo thá»i gian thá»±c

::: tip ğŸ’¡ CÃ¡ch cÃ i Ä‘áº·t

Sá»­ dá»¥ng lá»‡nh sÃ¢u Ä‘á»ƒ cÃ i Ä‘áº·t `Wireshark`

```sh
sudo apt-get install wireshark
```
:::


> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-10-13-21-Screenshot%20from%202021-09-27%2016-41-43.png" width="500">
>
> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-10-13-18-Screenshot%20from%202021-09-27%2016-42-30.png">

### Vai trÃ² cá»§a `WireShark`

CÃ´ng cá»¥ `WireShark` khÃ´ng thá»ƒ cÃ i trá»±c tiáº¿p trÃªn `Kathara` do `Kathara` khÃ´ng há»— trá»£ `GUI` gÃ¢y khÃ³ khÄƒn cho ngÆ°á»i dÃ¹ng

::: tip ğŸ’¡ FACT

TrÃªn `Kathara` ta sá»­ dá»¥ng cÃ´ng cá»¥ `tcpdump` Ä‘á»ƒ báº¯t cÃ¡c gÃ³i tin vÃ o file `.pcap`
:::

## 2.BÃ i táº­p 5

::: tip ğŸ’¡ MÃ” HÃŒNH

XÃ¢y dá»¥ng mÃ´ hÃ¬nh mÃ¡y áº£o nhÆ° sau :

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-23-10-34-Screen%20Shot%202021-09-28%20at%2023.10.28.png" width="600">
:::

### Táº¡o thÆ° má»¥c vÃ  cÃ¡c file

Táº¡o cÃ¡c file vÃ  thÆ° má»¥c nhÆ° hÃ¬nh bÃªn dÆ°á»›i : 

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-09-33-18-Screenshot%20from%202021-09-24%2013-10-27.png">

Báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c lá»‡nh sau : 

```sh
mkdir ~/Desktop/BaiTap5
cd ~/Desktop/BaiTap5
mkdir pc1 pc2 pc3 router1 router2
touch pc1.startup pc2.startup pc3.startup router1.startup router2.startup
```

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-09-33-12-Screenshot%20from%202021-09-24%2013-10-14.png" width="600">

### Thiáº¿t láº­p cÃ¡c file

Sá»­ dá»¥ng `gedit` Ä‘á»ƒ cáº¥u hÃ¬nh cÃ¡c file láº§n lÆ°á»£t nhÆ° sau: 

:::: tabs 
  ::: tab lab.conf

```txt
pc1[0]=A
pc2[0]=B
pc3[0]=C
router1[0]=A
router1[1]=B
router2[0]=A
router2[1]=C
```
  :::

  ::: tab pc1.startup

```txt
ifconfig eth0 10.0.0.101/24 up
route add -net 10.0.1.0/24 up 10.0.0.1
route add -net 10.0.2.0/24 gw 10.0.0.2
```
  :::

  ::: tab pc2.startup

```txt
ifconfig eth0 10.0.1.101/24 up
route add default gw 10.0.1.1
```
  :::

  ::: tab pc3.startup

```txt
ifconfig eth0 10.0.2.101/24 up
route add default gw 10.0.2.1
```
  :::

  ::: tab router1.startup

```txt
ifconfig eth0 10.0.0.1/24 up
ifconfig eth1 10.0.1.1/24 up
route add -net 10.0.2.0/24 gw 10.0.0.2
```
  :::

  ::: tab router2.startup

```txt
ifconfig eth0 10.0.0.2/24 up
ifconfth eth1 10.0.2.1
route add -net 10.0.1.0/24 gw 10.0.0.1
```
  :::
:::: 


<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-09-36-44-Screenshot%20from%202021-09-27%2016-10-56.png">

### Khá»Ÿi táº¡o há»‡ thá»‘ng mÃ¡y áº£o

Sá»­ dá»¥ng lá»‡nh `Kathara` sau Ä‘á»ƒ khá»Ÿi Ä‘á»™ng cÃ¡c mÃ¡y áº£o: 

```sh
kathara lstart pc1 pc2 pc3 router1 router2
```

Sau Ä‘Ã³ thá»±c hiá»‡n lá»‡nh `route` cho tá»«ng thiáº¿t bá»‹ Ä‘á»ƒ kiá»ƒm tra váº¡ch Ä‘Æ°á»ng Ä‘i chÃ­nh xÃ¡c nhÆ° mÃ´ hÃ¬nh hay chÆ°a

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-09-54-30-Screenshot%20from%202021-09-27%2016-17-24.png">

### PhÃ¢n tÃ­ch cÃ¡c gÃ³i tin gá»­i tin

Báº­t phÃ¢n tÃ­ch cÃ¡c gÃ³i tin tá»« cÃ¡c thiáº¿t bá»‹ `pc2`, `router1`, `router2` báº±ng lá»‡nh sau :

```sh
tcpdump -s 1536 -w <path>/*.pcap
```

::: tip ğŸ’¡ GIáº¢I THÃCH

`-s` : xÃ¡c Ä‘á»‹nh kÃ­ch thÆ°á»›c cá»§a gÃ³i tin theo `byte`

`1536` : 1536 byte theo tuá»³ chá»n `-s`

`-w`: xuáº¥t file ra Ä‘Æ°á»ng dáº«n
:::

::: warning âš ï¸ LÆ¯U Ã

Náº¿u báº¡n muá»‘n xuáº¥t ra file mÃ  mÃ  mÃ¡y tháº­t cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c, hÃ£y Ä‘á»ƒ `<path>` lÃ  `/share/*`

VD: `tcpdump -s 1536 -w /shared/BT5-router1.pcap`
:::

Tá»« Ä‘Ã³, sá»­ dá»¥ng lá»‡nh `ping` tá»« `pc3` tá»›i `pc2`

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-10-03-37-Screenshot%20from%202021-09-27%2019-15-08.png">

::: tip ğŸ’¡ Máº¸O

Äá»ƒ táº¯t nÃ³ng lá»‡nh trÃªn `Terminal`, sá»­ dá»¥ng tá»• há»£p phÃ­m `CTRL+C`
:::

### Truy cáº­p file `.pcap` trÃªn `WireShark`

TrÃªn thÆ° má»¥c `BaiTap5`, sáº½ cÃ³ thÆ° má»¥c `shared`, nÆ¡i Ä‘Ã³ lÃ  thÆ° má»¥c chung cá»§a mÃ¡y tháº­t vÃ  máº£y áº£o `Kathara`

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-10-19-28-Screenshot%20from%202021-09-27%2019-15-32.png"> 
>
> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-10-19-55-Screenshot%20from%202021-09-27%2019-15-47.png" width="500">

Má»Ÿ file `BT5_pc2.pcap` báº±ng `Wireshark` :

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-18-20-56-Screen%20Shot%202021-09-28%20at%2018.19.57.png">
>
> Theo dÃµi `packet 3` cá»§a file.

::: tip ğŸ’¡ NHáº¬N XÃ‰T

- ToÃ n bá»™ khung sá»‘ `3` cÃ³ kÃ­ch thÆ°á»›c lÃ  `48 byte`

- Chá»n **Internet Control Message Protocol** trong khung : 

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-18-22-47-Screen%20Shot%202021-09-28%20at%2018.22.39.png">

  1. GÃ³i tin sá»­ dá»¥ng giao thá»©c `ICMP` hoáº¡t Ä‘á»™ng trÃªn **táº§ng máº¡ng** cá»§a mÃ´ hÃ¬nh `OSI`

  2. Ná»™i dung thÃ´ng Ä‘iá»‡p cá»§a giao thá»©c nÃ y lÃ 

- Chá»n **Internet Protocol Version 4** trong khung :

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-18-23-21-Screen%20Shot%202021-09-28%20at%2018.23.10.png">

  1. Äá»‹a chá»‰ IP cá»§a mÃ¡y gá»­i Ä‘i lÃ  `10.0.2.101`, Ä‘á»‹a chá»‰ nÃ y lÃ  cá»§a `pc3`

  2. Äá»‹a chá»‰ IP mÃ¡y nháº­n lÃ  `10.0.1.101`, Ä‘á»‹a chá»‰ nÃ y lÃ  cá»§a `pc2`

  3. Äá»‹nh danh gÃ³i tin lÃ  `0x542b`

  4. Äá»™ dÃ i `Header` cá»§a thÃ´ng Ä‘iá»‡p lÃ  `20` bytes

  5. TrÆ°á»ng Total Length cÃ³ Ä‘á»™ dÃ i lÃ  `84` bytes. ÄÃ¢y lÃ  Ä‘á»™ dÃ i cá»§a `datagram`.

- Chá»n `Ethernet II` trong khung : 

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-21-03-52-Screen%20Shot%202021-09-28%20at%2021.03.46.png">

  1. Äá»‹a chá»‰ `MAC` cá»§a mÃ¡y gá»­i dá»¯ liá»‡u lÃ  `ba:96:5f:5b:b5:fd`, Ä‘Ã¢y lÃ  Ä‘á»‹a chá»‰ cá»§a `pc2`
  
  2. Äá»‹a chá»‰ `MAC` cá»§a mÃ¡y nháº­n dá»¯ liá»‡u lÃ  `f2:0a:34:63:fb:bc`, Ä‘Ã¢y lÃ  Ä‘á»‹a chá»‰ `MAC` cá»§a `router1`

  3. TrÆ°á»ng Type lÃ  `0x0800`, cho biáº¿t sá»­ dá»¥ng giao thá»©c `IPv4`

  4. TrÆ°á»ng Payload cÃ³ Ä‘á»™ dÃ i lÃ  `64` bytes
:::

### Huá»· há»‡ thá»‘ng mÃ¡y áº£o

Sá»­ dá»¥ng lá»‡nh `kathara wipe` Ä‘á»ƒ huá»· cÃ¡c mÃ¡y áº£o hiá»‡n cÃ³ 

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/09/28-22-48-56-Screen%20Shot%202021-09-28%20at%2022.48.37.png" width="600">

## 3.BÃ i táº­p 6

::: tip ğŸ’¡ MÃ” HÃŒNH

XÃ¢y dá»±ng mÃ´ hÃ¬nh nhÆ° sau : 

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/01-18-04-50-Screen%20Shot%202021-10-01%20at%2018.04.46.png" width="600">
:::

### Táº¡o thÆ° má»¥c vÃ  cÃ¡c file 

Táº¡o cÃ¡c file vÃ  thÆ° má»¥c nhÆ° hÃ¬nh bÃªn dÆ°á»›i : 

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-12-22-21-Screenshot%20from%202021-10-01%2018-16-39.png">

Báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c lá»‡nh sau : 

```sh
mkdir ~/Desktop/BaiTap6
cd ~/Desktop/BaiTap6
mkdir pc1 pc2 pc3 router1 router2
touch pc1.startup pc2.startup pc3.startup router1.startup router2.startup
```

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-12-23-44-Screenshot%20from%202021-10-01%2018-16-56.png" width="600">

### Thiáº¿t láº­p cÃ¡c file

Sá»­ dá»¥ng `gedit` Ä‘á»ƒ cáº¥u hÃ¬nh cÃ¡c file láº§n lÆ°á»£t nhÆ° sau : 

:::: tabs 

  ::: tab lab.conf

  ```txt
  pc1[0]=A
  pc2[0]=C
  pc3[0]=C
  router1[0]=A
  router1[1]=B
  router2[0]=C
  router2[1]=B
  ```
  :::

  ::: tab pc1.startup
  ```txt
  ifconfig eth0 195.11.14.5/24 up
  route add default gw 192.11.14.1
  ```
  :::

  ::: tab pc2.startup
  ```txt
  ifconfig eth0 200.1.1.7/24 up
  route add default gw 200.1.1.1
  ```
  :::

  ::: tab pc3.startup
  ```txt
  ifconfig eth0 200.1.1.3/24 up
  route add default gw 200.1.1.1
  ```
  :::

  ::: tab router1.startup
  ```txt
  ifconfig eth0 195.11.14.1/24 up
  ifconfig eth1 100.0.0.9/30 up
  route add -net 200.1.1.0/24 gw 100.0.0.10
  ```
  :::

  ::: tab router2.startup
  ```txt
  ifconfig eth0 200.1.1.1/24 up
  ifconfig eth1 100.0.0.10/30 up
  route add -net 195.11.14.0/24 gw 100.0.0.9
  ```
  :::
::::

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-12-22-12-Screenshot%20from%202021-10-02%2021-46-29.png">

### Khá»Ÿi táº¡o há»‡ thá»‘ng mÃ¡y áº£o

Sá»­ dá»¥ng lá»‡nh sau Ä‘á»ƒ khá»Ÿi Ä‘á»™ng cÃ¡c mÃ¡y áº£o :

```sh
kathara lstart pc1 pc2 pc3 router1 router2
```

Sau Ä‘Ã³ sá»­ dá»¥ng lá»‡nh `route` trÃªn tá»«ng thiáº¿t bá»‹ Ä‘á»ƒ kiá»ƒm tra váº¡ch Ä‘Æ°á»ng Ä‘Ã£ Ä‘Ãºng nhÆ° mÃ´ hÃ¬nh nhÆ° chÆ°a : 

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-12-30-26-Screenshot%20from%202021-10-02%2020-25-49.png">

### PhÃ¢n tÃ­ch cÃ¡c gÃ³i tin gá»­i Ä‘i

Sá»­ dá»¥ng lá»‡nh `arp` trÃªn thiáº¿t bá»‹ `pc2`, `pc3`, `router2`

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-12-48-43-Screenshot%20from%202021-10-02%2020-27-09.png">

DÃ¹ng láº§n lÆ°á»£t cÃ¡c lá»‡nh `tcpdump` cÃ¡c thiáº¿t bá»‹ `pc2`, `router1`, `router2`

```sh
tcpdump -s 1536 -w <path>/*.pcap
```

::: tip ğŸ’¡ GIáº¢I THÃCH

`-s` : xÃ¡c Ä‘á»‹nh kÃ­ch thÆ°á»›c cá»§a gÃ³i tin theo `byte`

`1536` : 1536 byte theo tuá»³ chá»n `-s`

`-w`: xuáº¥t file ra Ä‘Æ°á»ng dáº«n
:::

::: warning âš ï¸ LÆ¯U Ã

Náº¿u báº¡n muá»‘n xuáº¥t ra file mÃ  mÃ  mÃ¡y tháº­t cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c, hÃ£y Ä‘á»ƒ `<path>` lÃ  `/share/*`

VD: `tcpdump -s 1536 -w /shared/BT6_pc2_A.pcap`
:::

Sau Ä‘Ã³ sá»­ dá»¥ng lá»‡nh `ping 200.1.1.7` tá»« `pc3` tá»›i `pc2`

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-12-49-20-Screenshot%20from%202021-10-02%2020-30-59.png">

::: tip ğŸ’¡ Máº¸O

Äá»ƒ táº¯t nÃ³ng lá»‡nh trÃªn `Terminal`, sá»­ dá»¥ng tá»• há»£p phÃ­m `CTRL+C`
:::

Sau Ä‘Ã³ sá»­ dá»¥ng lá»‡nh `arp` trÃªn cÃ¡c thiáº¿t bá»‹ `pc2`, `pc3`, `router2`

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-12-52-27-Screenshot%20from%202021-10-02%2020-33-09.png">

::: tip ğŸ’¡ NHáº¬N XÃ‰T

- á» `pc3` cÃ³ thÃ´ng tin Ä‘á»‹a chá»‰ máº¡ng `pc2` sau khi sá»­ dá»¥ng lá»‡nh `ping` vÃ  ngÆ°á»£c láº¡i

- á» `router2` khÃ´ng nháº­n gÃ¬ cáº£
:::

### PhÃ¢n tÃ­ch file `pcap` báº±ng `WireShark` 

VÃ o trong folder `shared` sáº½ tháº¥y cÃ¡c file Ä‘Ã£ `tcpdump` tá»« thiáº¿t bá»‹ mÃ¡y áº£o

Má»Ÿ file `BT6_router2_A.pcap` báº±ng `WireShark` vÃ  chá»n khung váº­t lÃ½ sá»‘ `1` : 

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-13-14-26-Screenshot%20from%202021-10-03%2013-06-57.png">

::: tip ğŸ’¡ NHáº¬N XÃ‰T

- ToÃ n bá»™ khung váº­t lÃ½ sá»‘ `1` cÃ³ `42 bytes`

- Chá»n khung `Address Resolution Protocol` : 

  <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-13-19-02-z2813546769418_5541a828694fa0992b6dc8ae0d9c71b8.jpg" width="600">

  1. TrÆ°á»ng `Opcode` cÃ³ giÃ¡ trá»‹ lÃ  `0x0001` thá»ƒ hiá»‡n thÃ´ng tin `request`, vÃ  cÃ²n cÃ³ giÃ¡ trá»‹ lÃ  `0x0002` thá»ƒ hiá»‡n thÃ´ng tin `reply`
  
  2. Äá»‹a chá»‰ `IP` cá»§a mÃ¡y gá»­i dá»¯ liá»‡u lÃ  `200.1.1.3` vÃ  Ä‘á»‹a chá»‰ `MAC` lÃ  `fe:ae:86:7b:21:82`

  3. Äá»‹a chá»‰ `IP` cá»§a mÃ¡y gá»­i dá»¯ liá»‡u lÃ  `200.1.1.7` vÃ  khÃ´ng cÃ³ Ä‘á»‹a chá»‰ `MAC` 

- Chá»n khung `Ethenet II` : 

  <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-13-24-14-Screenshot%20from%202021-10-03%2013-08-14.png" width="600">

  1. Äá»‹a chá»‰ `MAC` cá»§a mÃ¡y gá»­i dá»¯ liá»‡u lÃ  `fe:ae:86:7b:21:82`, Ä‘Ã¢y lÃ  Ä‘á»‹a chá»‰ cá»§a `pc3` 

  2. Äá»‹a chá»‰ `MAC` cá»§a mÃ¡y nháº­n dá»¯ liá»‡u lÃ  `ff:ff:ff:ff:ff:ff`, Ä‘á»‹a chá»‰ `MAC` khÃ´ng á»Ÿ thiáº¿t bá»‹ nÃ o

  3. TrÆ°á»ng `Type` cÃ³ giÃ¡ trá»‹ lÃ  `0x8606`, thá»ƒ hiá»‡n lÃ  giao thá»©c lÃ  `ARP`

:::

### Huá»· há»‡ thá»‘ng mÃ¡y áº£o 

Sá»­ dá»¥ng lá»‡nh sau Ä‘á»ƒ huá»· há»‡ thá»‘ng mÃ¡y áº£o :

```sh
kathara wipe
```

## 4.BÃ i táº­p 7

::: tip ğŸ’¡ MÃ” HÃŒNH

Cho mÃ´ hÃ¬nh nhÆ° sau : 

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-13-30-11-Screen%20Shot%202021-10-03%20at%2013.30.03.png">
:::

### Táº¡o thÆ° má»¥c vÃ  cÃ¡c file

ÄÃ¢y lÃ  má»™t há»‡ thá»‘ng phá»©c táº¡p, nÃªn ta sáº½ lÃ m theo cÃ¡c bÆ°á»›c nhÆ° sau :

**XÃ¡c Ä‘á»‹nh `6` thiáº¿t bá»‹ cÃ³ trong há»‡ thá»‘ng** : `pc1`, `pc2`, `pc3`, `router1`, `router2`, `router3`

```sh
mkdir ~/Desktop/BaiTap7
cd ~/Desktop/BaiTap7
mkdir pc1 pc2 pc3 router1 router2 router3
touch lab.conf pc1.startup pc2.startup pc3.startup router1.startup router2.startup router3.startup
```

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-13-36-05-Screenshot%20from%202021-10-03%2013-35-29.png">

### Thiáº¿t láº­p cÃ¡c file

- **BÆ°á»›c 1**: XÃ¡c Ä‘á»‹nh cáº¥u hÃ¬nh file `lab.conf`

  ```txt
  pc1[0]=A
  pc2[0]=C
  pc3[0]=F
  router1[0]=A
  router1[1]=B
  router1[2]=D
  router2[0]=B
  router2[1]=C
  router2[2]=E
  router3[0]=D
  router3[1]=E
  router3[2]=F
  ```

  ::: tip ğŸ¤” Máº¸O

  - XÃ¡c Ä‘á»‹nh cÃ¡c `pc` káº¿t ná»‘i vá»›i máº¡ng nÃ o (báº¯t Ä‘áº§u tá»« `0`)

  - Trong bÃ i nÃ y, má»—i `router` Ä‘á»u cÃ³ 3 nhÃ¡nh máº¡ng nÃªn sáº½ tá»« `0`, `1`, `2`...

  - âš ï¸ Thá»© tá»± nhÃ¡nh `router` dá»±a vÃ o `eth0`, `eth1`, `eth2` chá»© khÃ´ng pháº£i lÃ  `A,B,C...`
  :::


- **BÆ°á»›c 2**: XÃ¡c Ä‘á»‹nh máº¡ng cá»§a cÃ¡c thiáº¿t bá»‹ `pc`

  :::: tabs 

    ::: tab pc1.startup 
    ```txt
    ifconfig eth0 192.168.0.40/27 up
    route add default gw 192.168.0.33
    ```
    :::

    ::: tab pc2.startup
    ```txt
    ifconfig eth0 192.168.0.100/27 up
    route add default gw 192.168.0.97
    ```
    :::

    ::: tab pc3.startup
    ```txt
    ifconfig eth0 192.168.0.200/27 up
    route add default gw 192.168.0.193
    ```
    :::
  ::::

  ::: tip ğŸ’¡ Máº¸O

  - CÃ¡c `pc` Ä‘Æ°á»£c káº¿t ná»‘i qua Ä‘Ãºng 1 nhÃ¡nh máº¡ng `eth0` nÃªn chá»‰ cÃ³ 1 dÃ²ng cáº¥u hÃ¬nh máº¡ng `ifconfig`

  - Má»—i `pc` chá»‰ káº¿t ná»‘i qua má»™t `router` nÃªn sá»­ dá»¥ng `add default gw` 
  :::

  - **BÆ°á»›c 3**: XÃ¡c Ä‘á»‹nh máº¡ng cá»§a cÃ¡c thiá»‡t bá»‹ `router`

  :::: tabs

    ::: tab router1.startup
    ```txt
    ifconfig eth0 192.168.0.33/27 up
    ifconfig eth1 192.168.0.65/27 up
    ifconfig eth2 192.168.0.129/27 up
    route add -net 192.168.0.96/27 gw 192.168.0.66
    route add -net 192.168.0.160/27 gw 192.168.0.130
    route add -net 192.168.0.160/27 gw 192.168.0.66
    route add -net 192.168.0.192/27 gw 192.168.0.130
    ```
    :::

    ::: tab router2.startup
    ```txt
    ifconfig eth0 192.168.0.66/27 up
    ifconfig eth1 192.168.0.97/27 up
    ifconfig eth2 192.168.0.161/27 up
    route add -net 192.168.0.32/27 gw 192.168.0.65
    route add -net 192.168.0.128/27 gw 192.168.0.162
    route add -net 192.160.0.128/27 gw 192.168.0.65
    route add -net 192.168.0.192/27 gw 192.168.0.162
    ```
    :::

    ::: tab router3.startup
    ```txt
    ifconfig eth0 192.168.0.130/27 up
    ifconfig eth1 192.168.0.162/27 up
    ifconfig eth2 192.168.0.193/27 up
    route add -net 192.168.0.32/27 gw 192.168.0.129 
    route add -net 192.168.0.64/27 gw 192.168.0.129
    route add -net 192.168.0.64/27 gw 192.168.0.161
    route add -net 192.168.0.96/27 gw 192.168.0.161
    ```
    :::
  ::::

  ::: tip ğŸ¤” Máº¸O
  
  - NhÆ° trong mÃ´ hÃ¬nh trÃªn thÃ¬ má»—i thiáº¿t bá»‹ cÃ³ tá»›i 3 nhÃ¡nh nÃªn ta cáº¥u hÃ¬nh `3` láº§n `ifconfig`

  - Tá»« `router1` tá»›i `router2` cÃ³ tá»›i 2 nhÃ¡nh Ä‘i nÃªn ta cáº¥u hÃ¬nh `2` láº§n `route add -net`, vÃ  `router1` tá»›i `router3` cÅ©ng cÃ³ 2 hÆ°á»›ng nÃªn lÃ  tá»•ng `4` láº§n `route add -net`
  
  - CÅ©ng nhÆ° tÃ­nh cháº¥t Ä‘Ã³ nÃªn má»—i `router` cÃ³ `3` nhÃ¡nh máº¡ng cáº¥u hÃ¬nh báº±ng `ifconfig` vÃ  4 váº¡ch Ä‘Æ°á»ng Ä‘i qua cÃ¡c `router` khÃ¡c
  :::

  > <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-21-32-09-z2814717042578_a31eed5c21f60456885ecc9ea1dc3bc1.jpg">

### Khá»Ÿi táº¡o há»‡ thá»‘ng mÃ¡y áº£o

Sá»­ dá»¥ng lá»‡nh `kathara` sau Ä‘á»ƒ khá»Ÿi Ä‘á»™ng há»‡ thá»‘ng mÃ¡y áº£o

```sh
kathara lstart pc1 pc2 pc3 router1 router2 router3
```

::: warning âš ï¸ LÆ¯U Ã

Káº¿t thÃºc má»—i thiáº¿t bá»‹ Ä‘á»u hiá»‡n lÃªn `End Startup Command Log` mÃ  trÆ°á»›c Ä‘Ã³ khÃ´ng há» cÃ³ lá»—i gÃ¬ thÃ¬ cáº¥u hÃ¬nh Ä‘Ãºng
:::

Sau Ä‘Ã³ sá»­ dá»¥ng lá»‡nh `route` Ä‘á»ƒ kiá»ƒm tra váº¡ch Ä‘Æ°á»ng Ä‘i cá»§a má»—i thiáº¿t bá»‹

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/10/03-21-40-06-88cbfc0aac0965573c18.jpg">

### Huá»· há»‡ thá»‘ng mÃ¡y áº£o

Sá»­ dá»¥ng lá»‡nh `kathara wipe` Ä‘á»ƒ huá»· há»‡ thá»‘ng mÃ¡y áº£o

::: tip ğŸ’¡ Máº¸O

GÃµ `y` Ä‘á»ƒ Ä‘á»“ng Ã½ huá»· há»‡ thá»‘ng mÃ¡y áº£o
:::

<comment/>
