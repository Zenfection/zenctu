# B√†i 10: Exceptions

## 1.Gi·ªõi thi·ªáu

::: tip üí° <b>EXCEPTIONS</b> L√Ä G√å ?

Trong `Java`, ch√∫ng ta s·∫Ω g·∫∑p nhi·ªÅu l·ªói do `logic`, nh·ªØng l·ªói m√† kh√¥ng l∆∞·ªùng tr∆∞·ªõc ƒë∆∞·ª£c.

> Khi x·∫£y ra l·ªói, `Java` s·∫Ω d·ª´ng v√† th√¥ng b√°o l·ªói, `Exception` khi·∫øn cho `Java` s·∫Ω ch·∫°y ti·∫øp v√† quƒÉng ra l·ªói
:::

### L·ªánh `try` v√† `catch`

```java
try{
    //Kh·ªëi code c·∫ßn th·ª≠
}
catch(Exception e){
    // Kh·ªëi code x·ª≠ l√Ω l·ªói
}
```

::: tip üí° GI·∫¢I TH√çCH 

- `try` cho ph√©p b·∫°n x√°c ƒë·ªãnh `code` c·∫ßn th·ª≠ tr∆∞·ªõc khi th·ª±c thi

- `catch` cho ph√©p b·∫°n x√°c ƒë·ªãnh `code` th·ª±c thi, n·∫øu x·∫£y ra l·ªói trong `try`

- `try` v√† `catch` ƒëi chung v·ªõi nhau
:::

## 2. S·ª≠ d·ª•ng

V√≠ d·ª• ta c√≥ ƒëo·∫°n code sau : 

```java
public class Main {
  public static void main(String[ ] args) {
    int[] myNumbers = {1, 2, 3};
    System.out.println(myNumbers[10]); //L·ªói
  }
}
```

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/02/16-16-50-24-A%CC%89nh%20chu%CC%A3p%20Ma%CC%80n%20hi%CC%80nh%202021-02-16%20lu%CC%81c%2016.50.15.png">

> Ta c√≥ th·ªÉ s·ª≠ d·ª•ng `try..catch` ƒë·ªÉ xu·∫•t ra code m√† ta mu·ªën v√† th·ª±c thi m√¥t s·ªë l·ªánh x·ª© l√Ω : 

```java
public class Main {
  public static void main(String[ ] args) {
    try {
      int[] myNumbers = {1, 2, 3};
      System.out.println(myNumbers[10]);
    } catch (Exception e) {
      System.out.println("Code sai r·ªìi.");
    }
  }
}
//Output : code sai r·ªìi !!
```

### T·ª´ kh√≥a `finally`

S·ª≠ d·ª•ng `finally` d√π b·∫°n code sai hay ƒë√∫ng th√¨ n√≥ v·∫´n th·ª±c thi, nh∆∞ sau :

```java
public class Main {
  public static void main(String[] args) {
    try {
      int[] myNumbers = {1, 2, 3};
      System.out.println(myNumbers[10]);
    } catch (Exception e) {
      System.out.println("Code sai r·ªìi");
    } finally {
      System.out.println("Sau khi try..catch k·∫øt th√∫c l√† in ra, d√π ƒë√∫ng hay sai");
    }
  }
}
//Output : Code sai r·ªìi
// Sau khi try..catch k·∫øt th√∫c l√† in ra, d√π ƒë√∫ng hay sai
```

### T·ª´ kh√≥a `throw`

S·ª≠ d·ª•ng `throw` ƒë·ªÉ t·∫°o m·ªôt l·ªói tu·ª≥ ch·ªânh

`throw` ƒë∆∞·ª£c s·ª≠ d·ª•ng chung v·ªõi `exception`, c√≥ r·∫•t nhi·ªÅu ki·ªÉu sai trong `Java` nh∆∞ sau: 

| <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/07/30-14-13-48-icons8-face_vomiting.png">Ki·ªÉu ngo·∫°i l·ªá                  | <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/07/30-12-30-07-icons8-handle_with_care.png">M√¥ t·∫£                             |
| ------------------------------ | --------------------------------- |
| ArithmeticException            | s·ªë h·ªçc                            |
| FileNotFoundException          | kh√¥ng t√¨m ra file                 |
| ArrayIndexOutOfBoundsException | ch·ªâ m·ª•c kh√¥ng t·ªìn t·∫°i trong Array |
| SecurityException              | b·∫£o m·∫≠t                           |

```java
public class Main{
    static void checkAge(int age){
        if(age < 18){
            throw new ArithmeticException("B·∫°n kh√¥ng ƒë·ªß tu·ªïi ƒë·ªÉ xem th·ª© n√†y");
        }
        else{
            Sysout.out.println("B·∫°n ƒë√£ ƒë·ªß tu·ªïi, xem vui v·∫ª nh√© !!!");
        }
    }

    public static void main(String[] args){
        checkAge(15);
    }
}
//Output b√™n d∆∞·ªõi
```

```bash
Exception in thread "main" java.lang.ArithmeticException: B·∫°n kh√¥ng ƒë·ªß tu·ªïi ƒë·ªÉ xem th·ª© n√†y.
        at Main.checkAge(Main.java:4)
        at Main.main(Main.java:12)
```