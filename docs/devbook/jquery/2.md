# B√†i 2: Selectors

> Nh∆∞ b·∫°n ƒë√£ bi·∫øt th√¨ [b√†i tr∆∞·ªõc](/devbook/jquery/1.md) ch√∫ng ta c√≥ l·ªánh `$('#hello')` ƒë·ªÉ ch·ªçn t·∫•t c·∫£ th·∫ª c√≥ `id="hello"` ƒë√≥ g·ªçi l√† b·ªô ch·ªçn (`selectors`)

`Jquery Selectors` d·ª±a tr√™n c·∫•u tr√∫c `DOM` c·ªßa file `HTML` v√† n√≥ kh√° l√† t∆∞∆°ng t·ª± v·ªõi [CSS Selector](https://www.w3schools.com/cssref/css_selectors.asp)

::: tip üí° V√ç D·ª§

Tham kh·∫£o c√°c v√≠ d·ª• nh∆∞ sau:

- **B·ªô ch·ªçn c∆° b·∫£n**:
  
  ```js:no-line-numbers
  $("\*")                   // T·∫•t c·∫£ th·∫ª
  $("div")                  // T·∫•t c·∫£ th·∫ª <div>
  $(".blue")                // T·∫•t c·∫£ th·∫ª c√≥ class="blue"
  $(".blue.red")            // T·∫•t c·∫£ th·∫ª c√≥ class="blue red"
  $(".blue, .red")          // T·∫•t c·∫£ th·∫ª c√≥ class="blue"¬†ho·∫∑c¬†class="red"
  $("#header")              // Th·∫ª ƒë·∫ßu ti√™n c√≥ id="header"
  $("[href]")               // T·∫•t c·∫£ th·∫ª c√≥ thu·ªôc t√≠nh href
  $("[href='example.com']") // T·∫•t c·∫£ th·ªÉ c√≥ thu·ªôc t√≠nh href="example.com"
  ```

- **B·ªô ch·ªçn to√°n t·ª≠ quan h·ªá**
  
  ```js:no-line-numbers
  $("div span")      // T·∫•t c·∫£ th·∫ª span¬†n·∫±m b√™n trong c·ªßa th·∫ª div
  $("div > span")    // T·∫•t c·∫£ th·∫ª span¬†l√† con ch√≠nh c·ªßa th·∫ª div
  $("a ~ span")     // T·∫•t c·∫£ th·∫ª span¬†l√† c√πng c·∫•p v·ªõi th·∫ª a
  $("a + span")      // T·∫•t c·∫£ th·∫ª span¬†ph√≠a sau k·∫ø b√™n th·∫ª a
  ```
  
  :::

## 1. C√°c ki·ªÉu Selectors

Trong `Jquery` b·∫°n c√≥ th·ªÉ ch·ªçn th·∫ª b·∫±ng r·∫•t nhi·ªÅu c√°ch kh√°c nhau ƒë·ªÉ ph√π h·ª£p v·ªõi m·ª•c ƒë√≠ch c·ªßa m√¨nh bao g·ªìm : `Type`, `Class`, `ID`, `Attribute`, `Indexed Selector`, `Pseudo-state`

Ch·ªç m·ªôt ƒëo·∫°n code ƒë∆°n gi·∫£n sau:

```html
<a href="index.html"></a>
<a id="second-link"></a>
<a class="example"></a>
<a class="example" href="about.html"></a>
<span class="example"></span>
```

### C∆° b·∫£n

| Ki·ªÉu ch·ªçn       | Jquery                      | M√¥ t·∫£                                                | ·∫¢nh h∆∞·ªüng  |
| --------------- | --------------------------- | ---------------------------------------------------- | ---------- |
| Type            | **\$("a")**                 | Ch·ªçn t·∫•t c·∫£ th·∫ª `a`                                  | 1, 2, 3, 4 |
| Class           | **\$(".example")**          | Ch·ªçn t·∫•t c·∫£ th·∫ª c√≥<br>`class="example"`              | 3, 4, 5    |
| ID              | **\$("#second-link")**      | Ch·ªçn t·∫•t c·∫£ th·∫ª c√≥<br>`id="second-link"`             | 2          |
| Attribute       | **\$("[href]")**            | Ch·ªçn t·∫•t c·∫£ th·∫ª c√≥<br>thu·ªôc t√≠nh `href`              | 1, 4       |
| Attribute Value | **\$("href='index.html'")** | Ch·ªçn t·∫•t c·∫£ th·∫ª c√≥<br>thu·ªôc t√≠nh `href="index.html"` | 1          |


### Ki·ªÉu ch·ªâ m·ª•c

Ch√∫ng ta c√≥ th·ªÉ ch·ªçn ch·ªâ m·ªôt th·∫ª b·∫±ng c√°ch n√™u th·ª© t·ª± c·ªßa n√≥ 

::: warning ‚ö†Ô∏è L∆ØU √ù

B·∫Øt ƒë·∫ßu t·ª´ `0`   
:::

| Ki·ªÉu ch·ªçn         | Code Jquery                 | M√¥ t·∫£                                                 | ·∫¢nh h∆∞·ªüng     |
| ----------------- | --------------------------- | ----------------------------------------------------- | ------- |
| Indexed           | **\$("a:eq(1)")**           | Ch·ªçn th·∫ª `a`¬†th·ª© `2`                                  | 2       |
| Indexed Exclusion | **\$("a").not(:eq(0))**     | Ch·ªçn t·∫•t c·∫£ th·∫ª `a`<br>ngo·∫°i tr·ª´ th·∫ª `a`¬†**ƒë·∫ßu ti√™n** | 2, 3, 4 |
| Exclusion         | **\$("a:not(.example)")**   | Ch·ªçn t·∫•t c·∫£ th·∫ª `a`<br>kh√¥ng ch·ª©a `class="example"`   | 1,2     |



> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/02-22-18-48-tenor.gif" width="30">[CH·∫†Y TH·ª¨](https://replit.com/@Zenfection/jqueryexample3#index.html)

### Pseudo-State

Ch√∫ng ta c√≥ th·ªÉ ch·ªçn b·∫±ng c√°c l·ªõp gi·∫£ nh∆∞ `:first-of-type`, `last-of-type`...

```js:no-line-numbers
$("a:frist-of-type")  // ch·ªçn th·∫ª a ƒë·∫ßu ti√™n ==> ·∫¢nh h∆∞·ªüng 1
```

### K·∫øt h·ª£p 

Ch√∫ng ta c√≥ th·ªÉ k·∫øt h·ª£p nhi·ªÅu b·ªô ch·ªçn l·∫°i v·ªõi nhau, ch·∫≥ng h·∫°n nh∆∞ sau:

```js:no-line-numbers
$("a.class1.class2.class3#someID[attr1][attr2='something'][attr3='something]:first-of-type:first-of-child")
```

::: tip ü§î GI·∫¢I TH√çCH

Ch·ªçn t·∫•t c·∫£ th·∫ª `a` c√≥ ti√™u ch√≠ nh∆∞ sau:

- C√≥ `class="class1 class2 class3"`

- C√≥ `id="someID"`

- C√≥ thu·ªôc t√≠nh `attr1`, `attr2='something'` v√† `attr3='something'`

- C√≥ v·ªã tr√≠ ·ªü **ƒë·∫ßu ti√™n** v√† th·∫ª con **ƒë·∫ßu ti√™n**
:::

::: warning ‚ö†Ô∏è L∆ØU √ù

B·∫°n c≈©ng c√≥ th·ªÉ t√°ch c√°c b·ªô ch·ªçn ra b·ªüi d·∫•u `,`

```js:no-line-numbers
$("a, .class1, #someID")
```

- Ch·ªçn t·∫•t c·∫£ th·∫ª `a`

- Ch·ªçn t·∫•t c·∫£ th·∫ª c√≥ `class="class1"`

- Ch·ªçn t·∫•t c·∫£ th·∫ª c√≥ `id="someID"`
:::

### To√°n t·ª≠ quan h·ªá

B·∫°n c√≥ th·ªÉ d√πng c√°c to√°n t·ª≠ quan h·ªá ƒë·ªÉ ch·ªçn ra c√°c th·∫ª `con` ho·∫∑c `anh em` c·ªßa n√≥ nh∆∞ sau:

| To√°n t·ª≠  | V√≠ d·ª•        | √ù nghƒ©a                                    |
| -------- | ------------ | ------------------------------------------ |
| d·∫•u c√°ch | **div a**    | Ch·ªçn t·∫•t c·∫£ th·∫ª `a`¬†b√™n trong th·∫ª `div`    |
| `>`      | **div > a**  | Ch·ªçn t·∫•t c·∫£ th·∫ª `a`¬†l√† con c·ªßa th·∫ª `div`   |
| `+`      | **div + a**  | Ch·ªçn 1 th·∫ª `a`¬†li·ªÅn k·ªÅ v·ªõi th·∫ª `div`       |
| `~`      | **div \~ a** | Ch·ªçn t·∫•t c·∫£ th·∫ª `a`¬†c√πng c·∫•p v·ªõi th·∫ª `div` |

### Wildcard

Trong tr∆∞·ªùng h·ª£p ch√∫ng ta mu·ªën ch·ªçn t·∫•t c·∫£ th·∫ª nh∆∞ng kh√¥ng c√≥ `class` hay `id` ch√∫ng n√†o ch√∫ng ta c√≥ th·ªÉ d√πng nh∆∞ sau:

```js:no-line-numbers
$('#wrapper *')   //ch·ªçn t·∫•t c·∫£ th·ªÉ b√™n trong th·∫ª c√≥ id="wrapper"
```

## 2. ƒê·∫∑t bi·∫øn 

ƒê√¥i l√∫c b·∫°n s·∫Ω d√πng `jquery selector` nhi·ªÅu l·∫ßn tr√™n c√πng m·ªôt ƒë·ªëi t∆∞·ª£ng nh∆∞: 

```js:no-line-numbers
$('navigation').show()
```

==> ƒêi·ªÅu n√†y s·∫Ω l√†m cho b·∫°n r·∫•t d·ªÖ sai s√≥t v√† g√¢y m·∫•t th·ªùi gian, d·ªÖ d√†ng trong vi·ªác `Debug` sau n√†y, h√£y l√†m th·∫ø n√†y

```js:no-line-numbers
let nav = $('#navigation')
nav.show()
```

::: tip üí° M·∫∏O

Nhi·ªÅu nh√† ph√°t tri·ªÉn s·∫Ω quy ƒë·ªãnh t√™n bi·∫øn b·∫Øt ƒë·∫ßu b·∫±ng `$` ƒë·ªÉ bi·∫øt n√≥ l√† 1 bi·∫øn c·ªßa `Jquery Selector`

```js:no-line-numbers
let $nav = $('#navigation')
```
:::

::: warning ‚ö†Ô∏è L∆ØU √ù

N·∫øu b·∫°n g√°n 1 bi·∫øn `Jquery Selector` kh√¥ng t·ªìn t·∫°i, th√¨ b√™n trong n√≥ s·∫Ω l√† **r·ªóng**

```html
<div class="parent"></div>

<script>
  let parent = $('.parent')
  let children = $('.child')
  console.log(children)

  //OUTPUT: []

  parent.append('<div class="child">Child 1</div>')
  children = $('.child')
  console.log(children[0].text)

  //OUTPUT: "Child 1"
</script>
```
:::

## 3. K·∫øt h·ª£p b·ªô ch·ªçn

H√£y nh√¨n c·∫•u tr√∫c `DOM` d∆∞·ªõi ƒë√¢y

```html
<ul class="parentUl">
  <li> Level 1
    <ul class="childUl">
      <li>Level 1-1 <span> Item - 1 </span></li>
      <li>Level 1-1 <span> Item - 2 </span></li>
    </ul>
  </li>
  <li> Level 2
    <ul class="childUl">
      <li>Level 2-1 <span> Item - 1 </span></li>
      <li>Level 2-1 <span> Item - 2 </span></li>
    </ul>
  </li>
</ul>
```

T·ª´ cha (`<ul>` *ho·∫∑c* `.parentUl`), ta c√≥ th·ªÉ ch·ªçn c√°c con c·ªßa n√≥ (`<li>` *ho·∫∑c* `<childUl>`) b·∫±ng 1 trong c√°ch sau:

1. C·∫•u tr√∫c `$('parent child')`  : Ch·ªçn t·∫•t c·∫£ l·ªõp `child` b√™n trong l·ªõp `parent`

  ```js:no-line-numbers
  $('ul.parentUl li')   
  ```

2. C·∫•u tr√∫c `$('parent > child')`: Ch·ªçn t·∫•t c·∫£ `child` b√™n trong `parent` (*ch·ªâ `child` ƒë·∫ßu ti√™n*)

  ```js:no-line-numbers;
  $('ul.parentUl > li') 
  ```

3. C·∫•u tr√∫c `$('child', 'parent')`: Ch·ªçn t·∫•t c·∫£ `parent` v√† `child`

  ```js:no-line-numbers
  $('li', 'ul.parentUl')
  ```

4. D√πng h√†m `find()`; C·∫•u tr√∫c `$('parent').find('child')` (*Gi·ªëng c√°ch `1`*)

  ```js:no-line-numbers
  $('ul.parentUl').find('li')
  ```

5. D√πng h√†m `children()`; C·∫•u tr√∫c `$('parent').chidlren('child')` (*Gi·ªëng c√°ch `2`*)

  ```js:no-line-numbers
  $('ul.parentUl').children('li')
  ```

> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/08/02-22-18-48-tenor.gif" width="30"> [CH·∫†Y TH·ª¨](https://replit.com/@Zenfection/jqueryexample4#index.html)
